(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{1249:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMethod=function(e,t){var r=e.find((function(e){return"function"==e.type&&e.name==t}));if(!r)throw new Error("ABI "+t+" not found");return r},t.event=function(e,t){var r=e.find((function(e){return"event"==e.type&&e.name==t}));if(!r)throw new Error("ABI "+t+" not found");return r},t.DECENTRALAND_AUCTION_CONFIG={1:"0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d"};var n=r(2549);t.ERC20=n.ERC20;var o=r(2550);t.ERC721=o.ERC721;var c=r(2551);t.ERC1155=c.ERC1155;var l=r(2552);t.StaticCheckTxOrigin=l.StaticCheckTxOrigin;var d=r(2553);t.StaticCheckCheezeWizards=d.StaticCheckCheezeWizards;var f=r(2554);t.StaticCheckDecentralandEstates=f.StaticCheckDecentralandEstates;var m=r(2555);t.CheezeWizardsBasicTournament=m.CheezeWizardsBasicTournament;var _=r(2556);t.DecentralandEstates=_.DecentralandEstates;var h=r(2557);t.CanonicalWETH=h.CanonicalWETH;var S=r(2558);t.WrappedNFT=S.WrappedNFT;var v=r(2559);t.WrappedNFTFactory=v.WrappedNFTFactory;var A=r(2560);t.WrappedNFTLiquidationProxy=A.WrappedNFTLiquidationProxy;var E=r(2561);t.UniswapFactory=E.UniswapFactory;var y=r(2562);t.UniswapExchange=y.UniswapExchange},1251:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),o=r(389),c=r(564),l=r(115),d=r(1231);t.AbiType=d.AbiType;var f=r(328),m=r(1250);function _(e,r,n){var o=e.inputs.map((function(input){switch(input.kind){case l.FunctionInputKind.Replaceable:return n;case l.FunctionInputKind.Owner:return r;case l.FunctionInputKind.Asset:default:if(null==input.value)throw new Error("Unsupported function input kind: "+input.kind);return input.value}}));return t.encodeCall(e,o)}function h(e,r,o,address,d){var m=d===f.OrderSide.Sell?t.encodeSell:t.encodeBuy;try{var _=o.map((function(e,i){var t=r[i],o=m(t,e,address),c=o.target;return{calldata:o.calldata,abi:t.functions.transfer(e),address:c,value:new n.BigNumber(0)}})),h=e.atomicize.getABIEncodedTransactionData(_.map((function(e){return e.address})),_.map((function(e){return e.value})),_.map((function(e){return new n.BigNumber((e.calldata.length-2)/2)})),_.map((function(e){return e.calldata})).reduce((function(e,t){return e+t.slice(2)}))),S=d===f.OrderSide.Buy?l.FunctionInputKind.Owner:void 0,v=c.WyvernProtocol.encodeAtomicizedReplacementPattern(_.map((function(e){return e.abi})),S);if(!h||!v)throw new Error("Invalid calldata: "+h+", "+v);return{atomicizedCalldata:h,atomicizedReplacementPattern:v}}catch(e){throw console.error({schemas:r,assets:o,address:address,side:d}),new Error("Failed to construct your order: likely something strange about this type of item. OpenSea has been notified. Please contact us in Discord! Original error: "+e)}}t.encodeReplacementPattern=c.WyvernProtocol.encodeReplacementPattern,t.encodeCall=function(t,r){var n=t.inputs.map((function(i){return i.type}));return"0x"+e.concat([o.methodID(t.name,n),o.rawEncode(n,r)]).toString("hex")},t.encodeSell=function(e,r,address){var n=e.functions.transfer(r);return{target:n.target,calldata:t.encodeDefaultCall(n,address),replacementPattern:t.encodeReplacementPattern(n)}},t.encodeAtomicizedSell=function(e,t,address,r,n){var o=h(r.wyvernAtomicizer,e,t,address,f.OrderSide.Sell);return{calldata:o.atomicizedCalldata,replacementPattern:o.atomicizedReplacementPattern,target:c.WyvernProtocol.getAtomicizerContractAddress(n)}},t.encodeAtomicizedBuy=function(e,t,address,r,n){var o=h(r.wyvernAtomicizer,e,t,address,f.OrderSide.Buy);return{calldata:o.atomicizedCalldata,replacementPattern:o.atomicizedReplacementPattern,target:c.WyvernProtocol.getAtomicizerContractAddress(n)}},t.encodeBuy=function(e,r,address){var n=e.functions.transfer(r),o=n.inputs.filter((function(i){return i.kind===l.FunctionInputKind.Replaceable})),d=n.inputs.filter((function(i){return i.kind===l.FunctionInputKind.Owner}));if(1!==o.length)throw new Error("Only 1 input can match transfer destination, but instead "+o.length+" did");var f=n.inputs.map((function(input){switch(input.kind){case l.FunctionInputKind.Replaceable:return address;case l.FunctionInputKind.Owner:return c.WyvernProtocol.generateDefaultValue(input.type);default:try{return input.value.toString()}catch(t){throw console.error(e),console.error(r),t}}})),m=t.encodeCall(n,f),_="0x";return d.length>0&&(_=t.encodeReplacementPattern(n,l.FunctionInputKind.Owner)),{target:n.target,calldata:m,replacementPattern:_}},t.encodeDefaultCall=function(e,address){var r=e.inputs.map((function(input){switch(input.kind){case l.FunctionInputKind.Replaceable:return c.WyvernProtocol.generateDefaultValue(input.type);case l.FunctionInputKind.Owner:return address;case l.FunctionInputKind.Asset:default:return input.value}}));return t.encodeCall(e,r)},t.encodeAtomicizedTransfer=function(e,t,r,o,l,d){var f=l.wyvernAtomicizer,m=t.map((function(t,i){var c=e[i].functions.transfer(t);return{calldata:_(c,r,o),address:c.target,value:new n.BigNumber(0)}}));return{calldata:f.atomicize.getABIEncodedTransactionData(m.map((function(e){return e.address})),m.map((function(e){return e.value})),m.map((function(e){return new n.BigNumber((e.calldata.length-2)/2)})),m.map((function(e){return e.calldata})).reduce((function(e,t){return e+t.slice(2)}),"0x")),target:c.WyvernProtocol.getAtomicizerContractAddress(d)}},t.encodeTransferCall=_,t.encodeProxyCall=function(address,r,n,o){void 0===o&&(o=!0);var c=o?m.proxyAssertABI:m.proxyABI;return t.encodeCall(c,[address,r,e.from(n.slice(2),"hex")])}}).call(this,r(6).Buffer)},2563:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{f(n.next(e))}catch(e){c(e)}}function d(e){try{f(n.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(l,d)}f((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],r=0}finally{t=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var c,l,d=r(585);t.MAX_ERROR_LENGTH=120,function(e){e[e.Buy=0]="Buy",e[e.Sell=1]="Sell"}(c||(c={})),function(e){e[e.FixedPrice=0]="FixedPrice",e[e.DutchAuction=1]="DutchAuction"}(l||(l={}));var f=c,m=function(e,t){var r=Math.round(Date.now()/1e3);return e<r&&(0===t||r<t)};t.requireOrdersCanMatch=function(e,t){var r=t.buy,c=t.sell,l=t.accountAddress;return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,e.wyvernExchange.ordersCanMatch_.callAsync([r.exchange,r.maker,r.taker,r.feeRecipient,r.target,r.staticTarget,r.paymentToken,c.exchange,c.maker,c.taker,c.feeRecipient,c.target,c.staticTarget,c.paymentToken],[r.makerRelayerFee,r.takerRelayerFee,r.makerProtocolFee,r.takerProtocolFee,r.basePrice,r.extra,r.listingTime,r.expirationTime,r.salt,c.makerRelayerFee,c.takerRelayerFee,c.makerProtocolFee,c.takerProtocolFee,c.basePrice,c.extra,c.listingTime,c.expirationTime,c.salt],[r.feeMethod,r.side,r.saleKind,r.howToCall,c.feeMethod,c.side,c.saleKind,c.howToCall],r.calldata,c.calldata,r.replacementPattern,c.replacementPattern,r.staticExtradata,c.staticExtradata,{from:l})];case 1:if(t.sent())return[2];if(+r.side!=+f.Buy||+c.side!=+f.Sell)throw new Error("Must be opposite-side");if(r.feeMethod!=c.feeMethod)throw new Error("Must use same fee method");if(r.paymentToken!=c.paymentToken)throw new Error("Must use same payment token");if(c.taker!=d.NULL_ADDRESS&&c.taker!=r.maker)throw new Error("Sell taker must be null or matching buy maker");if(r.taker!=d.NULL_ADDRESS&&r.taker!=c.maker)throw new Error("Buy taker must be null or matching sell maker");if(!(c.feeRecipient==d.NULL_ADDRESS&&r.feeRecipient!=d.NULL_ADDRESS||c.feeRecipient!=d.NULL_ADDRESS&&r.feeRecipient==d.NULL_ADDRESS))throw new Error("One order must be maker and the other must be taker");if(r.target!=c.target)throw new Error("Must match target");if(r.howToCall!=c.howToCall)throw new Error("Must match howToCall");if(!m(+r.listingTime,+r.expirationTime))throw new Error("Buy-side order is set in the future or expired");if(!m(+c.listingTime,+c.expirationTime))throw new Error("Sell-side order is set in the future or expired");throw new Error("Error creating your order. Check that your system clock is set to the current date and time before you try again.")}}))}))},t.requireOrderCalldataCanMatch=function(e,t){var r=t.buy,c=t.sell;return n(this,void 0,void 0,(function(){return o(this,(function(t){if(e.wyvernExchange.orderCalldataCanMatch.callAsync(r.calldata,r.replacementPattern,c.calldata,c.replacementPattern))return[2];throw new Error("Unable to match offer data with auction data.")}))}))}},328:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(571);t.Network=n.Network,t.HowToCall=n.HowToCall,function(e){e.TransactionCreated="TransactionCreated",e.TransactionConfirmed="TransactionConfirmed",e.TransactionDenied="TransactionDenied",e.TransactionFailed="TransactionFailed",e.InitializeAccount="InitializeAccount",e.WrapEth="WrapEth",e.UnwrapWeth="UnwrapWeth",e.ApproveCurrency="ApproveCurrency",e.ApproveAsset="ApproveAsset",e.ApproveAllAssets="ApproveAllAssets",e.UnapproveCurrency="UnapproveCurrency",e.MatchOrders="MatchOrders",e.CancelOrder="CancelOrder",e.ApproveOrder="ApproveOrder",e.CreateOrder="CreateOrder",e.OrderDenied="OrderDenied",e.TransferAll="TransferAll",e.TransferOne="TransferOne",e.WrapAssets="WrapAssets",e.UnwrapAssets="UnwrapAssets",e.LiquidateAssets="LiquidateAssets",e.PurchaseAssets="PurchaseAssets"}(t.EventType||(t.EventType={})),function(e){e[e.Buy=0]="Buy",e[e.Sell=1]="Sell"}(t.OrderSide||(t.OrderSide={})),function(e){e[e.ProtocolFee=0]="ProtocolFee",e[e.SplitFee=1]="SplitFee"}(t.FeeMethod||(t.FeeMethod={})),function(e){e[e.FixedPrice=0]="FixedPrice",e[e.DutchAuction=1]="DutchAuction"}(t.SaleKind||(t.SaleKind={})),function(e){e.Fungible="fungible",e.SemiFungible="semi-fungible",e.NonFungible="non-fungible",e.Unknown="unknown"}(t.AssetContractType||(t.AssetContractType={})),function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.ERC1155="ERC1155",e.LegacyEnjin="Enjin",e.ENSShortNameAuction="ENSShortNameAuction"}(t.WyvernSchemaName||(t.WyvernSchemaName={})),function(e){e.Unsupported="unsupported",e.Locked="locked",e.Enjin="1155-1.0",e.ERC721v1="1.0",e.ERC721v2="2.0",e.ERC721v3="3.0"}(t.TokenStandardVersion||(t.TokenStandardVersion={})),function(e){e.Account="account",e.Proxy="proxy",e.Other="other"}(t.WyvernAssetLocation||(t.WyvernAssetLocation={})),function(e){e.Dutch="dutch",e.English="english",e.MinPrice="min_price"}(t.AuctionType||(t.AuctionType={})),function(e){e.AuctionCreated="created",e.AuctionSuccessful="successful",e.AuctionCancelled="cancelled",e.OfferEntered="offer_entered",e.BidEntered="bid_entered",e.BidWithdraw="bid_withdraw",e.AssetTransfer="transfer",e.AssetApprove="approve",e.CompositionCreated="composition_created",e.Custom="custom",e.Payout="payout"}(t.AssetEventType||(t.AssetEventType={}))},500:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2246);t.OpenSeaPort=n.OpenSeaPort;var o=r(1248);t.OpenSeaAPI=o.OpenSeaAPI;var c=r(328);t.Network=c.Network,t.EventType=c.EventType;var l=r(752);t.orderToJSON=l.orderToJSON,t.orderFromJSON=l.orderFromJSON,t.WyvernProtocol=l.WyvernProtocol;var d=r(1251);t.encodeCall=d.encodeCall,t.encodeSell=d.encodeSell,t.encodeAtomicizedBuy=d.encodeAtomicizedBuy,t.encodeAtomicizedSell=d.encodeAtomicizedSell,t.encodeDefaultCall=d.encodeDefaultCall,t.encodeReplacementPattern=d.encodeReplacementPattern,t.AbiType=d.AbiType},585:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(564);t.DEFAULT_GAS_INCREASE_FACTOR=1.01,t.NULL_ADDRESS=n.WyvernProtocol.NULL_ADDRESS,t.NULL_BLOCK_HASH="0x0000000000000000000000000000000000000000000000000000000000000000",t.OPENSEA_FEE_RECIPIENT="0x5b3256965e7c3cf26e11fcaf296dfc8807c01073",t.DEP_INFURA_KEY="e8695bce67944848aa95459fac052f8e",t.MAINNET_PROVIDER_URL="https://api.opensea.io/jsonrpc/v1/",t.RINKEBY_PROVIDER_URL="https://rinkeby-api.opensea.io/jsonrpc/v1/",t.INVERSE_BASIS_POINT=1e4,t.MAX_UINT_256=n.WyvernProtocol.MAX_UINT_256,t.WYVERN_EXCHANGE_ADDRESS_MAINNET="0x7be8076f4ea4a4ad08075c2508e481d6c946d12b",t.WYVERN_EXCHANGE_ADDRESS_RINKEBY="0x5206e78b21ce315ce284fb24cf05e0585a93b1d9",t.ENJIN_COIN_ADDRESS="0xf629cbd94d3791c9250152bd8dfbdf380e2a3b9c",t.MANA_ADDRESS="0x0f5d2fb29fb7d3cfee444a200298f468908cc942",t.ENJIN_ADDRESS="0xfaaFDc07907ff5120a76b34b731b278c38d6043C",t.ENJIN_LEGACY_ADDRESS="0x8562c38485B1E8cCd82E44F89823dA76C98eb0Ab",t.CK_ADDRESS="0x06012c8cf97bead5deae237070f9587f8e7a266d",t.CK_RINKEBY_ADDRESS="0x16baf0de678e52367adc69fd067e5edd1d33e3bf",t.WRAPPED_NFT_FACTORY_ADDRESS_MAINNET="0xf11b5815b143472b7f7c52af0bfa6c6a2c8f40e1",t.WRAPPED_NFT_FACTORY_ADDRESS_RINKEBY="0x94c71c87244b862cfd64d36af468309e4804ec09",t.WRAPPED_NFT_LIQUIDATION_PROXY_ADDRESS_MAINNET="0x995835145dd85c012f3e2d7d5561abd626658c04",t.WRAPPED_NFT_LIQUIDATION_PROXY_ADDRESS_RINKEBY="0xaa775Eb452353aB17f7cf182915667c2598D43d3",t.UNISWAP_FACTORY_ADDRESS_MAINNET="0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95",t.UNISWAP_FACTORY_ADDRESS_RINKEBY="0xf5D915570BC477f9B8D6C0E980aA81757A3AaC36",t.DEFAULT_WRAPPED_NFT_LIQUIDATION_UNISWAP_SLIPPAGE_IN_BASIS_POINTS=1e3,t.CHEEZE_WIZARDS_GUILD_ADDRESS=n.WyvernProtocol.NULL_ADDRESS,t.CHEEZE_WIZARDS_GUILD_RINKEBY_ADDRESS="0x095731b672b76b00A0b5cb9D8258CD3F6E976cB2",t.CHEEZE_WIZARDS_BASIC_TOURNAMENT_ADDRESS=n.WyvernProtocol.NULL_ADDRESS,t.CHEEZE_WIZARDS_BASIC_TOURNAMENT_RINKEBY_ADDRESS="0x8852f5F7d1BB867AAf8fdBB0851Aa431d1df5ca1",t.DECENTRALAND_ESTATE_ADDRESS="0x959e104e1a4db6317fa58f8295f586e1a978c297",t.STATIC_CALL_TX_ORIGIN_ADDRESS="0xbff6ade67e3717101dd8d0a7f3de1bf6623a2ba8",t.STATIC_CALL_TX_ORIGIN_RINKEBY_ADDRESS="0xe291abab95677bc652a44f973a8e06d48464e11c",t.STATIC_CALL_CHEEZE_WIZARDS_ADDRESS=n.WyvernProtocol.NULL_ADDRESS,t.STATIC_CALL_CHEEZE_WIZARDS_RINKEBY_ADDRESS="0x8a640bdf8886dd6ca1fad9f22382b50deeacde08",t.STATIC_CALL_DECENTRALAND_ESTATES_ADDRESS="0x93c3cd7ba04556d2e3d7b8106ce0f83e24a87a7e",t.DEFAULT_BUYER_FEE_BASIS_POINTS=0,t.DEFAULT_SELLER_FEE_BASIS_POINTS=250,t.OPENSEA_SELLER_BOUNTY_BASIS_POINTS=100,t.DEFAULT_MAX_BOUNTY=t.DEFAULT_SELLER_FEE_BASIS_POINTS,t.MIN_EXPIRATION_SECONDS=10,t.ORDER_MATCHING_LATENCY_SECONDS=604800,t.SELL_ORDER_BATCH_SIZE=3,t.ORDERBOOK_VERSION=1,t.API_VERSION=1,t.API_BASE_MAINNET="https://api.opensea.io",t.API_BASE_RINKEBY="https://rinkeby-api.opensea.io",t.SITE_HOST_MAINNET="https://opensea.io",t.SITE_HOST_RINKEBY="https://rinkeby.opensea.io",t.ORDERBOOK_PATH="/wyvern/v"+t.ORDERBOOK_VERSION,t.API_PATH="/api/v"+t.ORDERBOOK_VERSION},752:function(e,t,r){"use strict";var n,o=this&&this.__assign||Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function l(e){try{f(n.next(e))}catch(e){c(e)}}function d(e){try{f(n.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(l,d)}f((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],r=0}finally{t=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var d=this,f=r(73),m=r(564);t.WyvernProtocol=m.WyvernProtocol;var _=r(157),h=r(1247),S=r(1209),v=r(115),A=r(1249),E=r(328),y=r(585);r(1250);t.annotateERC721TransferABI=function(e){return{constant:!1,inputs:[{name:"_to",type:"address",kind:v.FunctionInputKind.Replaceable},{name:"_tokenId",type:"uint256",kind:v.FunctionInputKind.Asset,value:e.id}],target:e.address,name:"transfer",outputs:[],payable:!1,stateMutability:v.StateMutability.Nonpayable,type:S.AbiType.Function}},t.annotateERC20TransferABI=function(e){return{constant:!1,inputs:[{name:"_to",type:"address",kind:v.FunctionInputKind.Replaceable},{name:"_amount",type:"uint256",kind:v.FunctionInputKind.Count,value:e.quantity}],target:e.address,name:"transfer",outputs:[{name:"success",type:"bool",kind:v.FunctionOutputKind.Other}],payable:!1,stateMutability:v.StateMutability.Nonpayable,type:S.AbiType.Function}};(n={})[E.WyvernSchemaName.ERC721]=E.AssetContractType.NonFungible,n[E.WyvernSchemaName.ERC1155]=E.AssetContractType.SemiFungible,n[E.WyvernSchemaName.ERC20]=E.AssetContractType.Fungible,n[E.WyvernSchemaName.LegacyEnjin]=E.AssetContractType.SemiFungible,n[E.WyvernSchemaName.ENSShortNameAuction]=E.AssetContractType.NonFungible;var w={};function T(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){return[2,new Promise((function(t,r){return e((function(e,n){e&&r(e),t(n)}))}))]}))}))}function N(e,t){return c(this,void 0,void 0,(function(){var r,n;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,T(e)];case 1:return"0x"==(r=o.sent())?[2,void 0]:[2,r];case 2:return n=o.sent(),t?t(n):console.error(n),[2,void 0];case 3:return[2]}}))}))}t.promisifyCall=N;function R(e){return"0x"===e&&(e=0),e=e.toString(),new f.default(e)}function C(e,t){var r=t.from,n=t.to,data=t.data,o=t.value,d=void 0===o?0:o;return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,T((function(t){return e.eth.estimateGas({from:r,to:n,value:d,data:data},t)}))];case 1:return[2,t.sent()]}}))}))}function k(e){var t=[27,28],r=function(e){var t=_.fromRpcSig(e),r=t.v,n=t.r,s=t.s;return{v:r,r:_.bufferToHex(n),s:_.bufferToHex(s)}}(e);if(h.includes(t,r.v))return r;var n=function(e){var t=_.toBuffer(e),r=t[0];r<27&&(r+=27);var n=t.slice(1,33),s=t.slice(33,65);return{v:r,r:_.bufferToHex(n),s:_.bufferToHex(s)}}(e);if(h.includes(t,n.v))return n;throw new Error("Invalid signature")}function D(e,t,r){void 0===t&&(t=30),void 0===r&&(r=!0);var n=e.basePrice,o=e.listingTime,c=e.expirationTime,l=e.extra,d=e.side,m=e.takerRelayerFee,_=e.saleKind,h=new f.default(Math.round(Date.now()/1e3)).minus(t);n=new f.default(n),o=new f.default(o),c=new f.default(c),l=new f.default(l);var S=n;if(_===E.SaleKind.FixedPrice);else if(_===E.SaleKind.DutchAuction){var v=l.times(h.minus(o)).dividedBy(c.minus(o));S=d==E.OrderSide.Sell?n.minus(v):n.plus(v)}return d!==E.OrderSide.Sell||e.waitingForBestCounterOrder||(S=S.times(+m/y.INVERSE_BASIS_POINT+1)),r?S.ceil():S}function O(e,t,r){void 0===r&&(r=new f.default(1));var n=null!=t.tokenId?t.tokenId.toString():void 0;return e.assetFromFields({ID:n,Quantity:r.toString(),Address:t.tokenAddress.toLowerCase(),Name:t.name})}t.confirmTransaction=function(e,t){return c(d,void 0,void 0,(function(){return l(this,(function(r){return[2,new Promise((function(r,n){!function(e,t,r){if(w[t])w[t].push(r);else{w[t]=[r];var n=function(){return c(d,void 0,void 0,(function(){var r,o,c;return l(this,(function(l){switch(l.label){case 0:return[4,T((function(r){return e.eth.getTransaction(t,r)}))];case 1:return(r=l.sent())&&r.blockHash&&r.blockHash!==y.NULL_BLOCK_HASH?[4,T((function(r){return e.eth.getTransactionReceipt(t,r)}))]:[3,3];case 2:return(o=l.sent())||console.warn("No receipt found for ",t),c=!o||1==parseInt((o.status||"0").toString()),w[t].map((function(e){return e(c)})),delete w[t],[3,4];case 3:setTimeout(n,1e3),l.label=4;case 4:return[2]}}))}))};n().catch()}}(e,t,(function(e){e?r("Transaction complete!"):n(new Error("Transaction failed :( You might have already completed this action. See more on the mainnet at etherscan.io/tx/"+t))}))}))]}))}))},t.assetFromJSON=function(e){var r=e.image_url&&e.image_url.endsWith(".gif"),n=e.image_url&&e.image_url.endsWith(".svg"),o={tokenId:e.token_id.toString(),tokenAddress:e.asset_contract.address,name:e.name,description:e.description,owner:e.owner,assetContract:t.assetContractFromJSON(e.asset_contract),collection:t.collectionFromJSON(e.collection),orders:e.orders?e.orders.map(t.orderFromJSON):null,sellOrders:e.sell_orders?e.sell_orders.map(t.orderFromJSON):null,buyOrders:e.buy_orders?e.buy_orders.map(t.orderFromJSON):null,isPresale:e.is_presale,imageUrl:r||n?e.image_url:e.image_preview_url||e.image_url,imagePreviewUrl:e.image_preview_url,imageUrlOriginal:e.image_original_url,imageUrlThumbnail:e.image_thumbnail_url,externalLink:e.external_link,openseaLink:e.permalink,traits:e.traits,numSales:e.num_sales,lastSale:e.last_sale?t.assetEventFromJSON(e.last_sale):null,backgroundColor:e.background_color?"#"+e.background_color:null,transferFee:e.transfer_fee?R(e.transfer_fee):null,transferFeePaymentToken:e.transfer_fee_payment_token?t.tokenFromJSON(e.transfer_fee_payment_token):null};return o.orders&&!o.sellOrders&&(o.sellOrders=o.orders.filter((function(e){return e.side==E.OrderSide.Sell}))),o.orders&&!o.buyOrders&&(o.buyOrders=o.orders.filter((function(e){return e.side==E.OrderSide.Buy}))),o},t.assetEventFromJSON=function(e){return{eventType:e.event_type,eventTimestamp:e.event_timestamp,auctionType:e.auction_type,totalPrice:e.total_price,transaction:e.transaction?t.transactionFromJSON(e.transaction):null,paymentToken:e.payment_token?t.tokenFromJSON(e.payment_token):null}},t.transactionFromJSON=function(e){return{fromAccount:t.accountFromJSON(e.from_account),toAccount:t.accountFromJSON(e.to_account),createdDate:new Date(e.created_date+"Z"),modifiedDate:new Date(e.modified_date+"Z"),transactionHash:e.transaction_hash,transactionIndex:e.transaction_index,blockNumber:e.block_number,blockHash:e.block_hash,timestamp:new Date(e.timestamp+"Z")}},t.accountFromJSON=function(e){return{address:e.address,config:e.config,profileImgUrl:e.profile_img_url,user:e.user?t.userFromJSON(e.user):null}},t.userFromJSON=function(e){return{username:e.username}},t.assetBundleFromJSON=function(e){return{maker:e.maker,assets:e.assets.map(t.assetFromJSON),assetContract:e.asset_contract?t.assetContractFromJSON(e.asset_contract):void 0,name:e.name,slug:e.slug,description:e.description,externalLink:e.external_link,permalink:e.permalink,sellOrders:e.sell_orders?e.sell_orders.map(t.orderFromJSON):null}},t.assetContractFromJSON=function(e){return{name:e.name,description:e.description,type:e.asset_contract_type,schemaName:e.schema_name,address:e.address,tokenSymbol:e.symbol,buyerFeeBasisPoints:+e.buyer_fee_basis_points,sellerFeeBasisPoints:+e.seller_fee_basis_points,openseaBuyerFeeBasisPoints:+e.opensea_buyer_fee_basis_points,openseaSellerFeeBasisPoints:+e.opensea_seller_fee_basis_points,devBuyerFeeBasisPoints:+e.dev_buyer_fee_basis_points,devSellerFeeBasisPoints:+e.dev_seller_fee_basis_points,imageUrl:e.image_url,externalLink:e.external_link,wikiLink:e.wiki_link}},t.collectionFromJSON=function(e){return{createdDate:new Date(e.created_date+"Z"),name:e.name,description:e.description,slug:e.slug,editors:e.editors,hidden:e.hidden,featured:e.featured,featuredImageUrl:e.featured_image_url,displayData:e.display_data,paymentTokens:(e.payment_tokens||[]).map(t.tokenFromJSON),openseaBuyerFeeBasisPoints:+e.opensea_buyer_fee_basis_points,openseaSellerFeeBasisPoints:+e.opensea_seller_fee_basis_points,devBuyerFeeBasisPoints:+e.dev_buyer_fee_basis_points,devSellerFeeBasisPoints:+e.dev_seller_fee_basis_points,payoutAddress:e.payout_address,imageUrl:e.image_url,largeImageUrl:e.large_image_url,stats:e.stats,traitStats:e.traits,externalLink:e.external_url,wikiLink:e.wiki_url}},t.tokenFromJSON=function(e){return{name:e.name,symbol:e.symbol,decimals:e.decimals,address:e.address,imageUrl:e.image_url,ethPrice:e.eth_price,usdPrice:e.usd_price}},t.orderFromJSON=function(e){var r=new Date(e.created_date+"Z"),n={hash:e.order_hash||e.hash,cancelledOrFinalized:e.cancelled||e.finalized,markedInvalid:e.marked_invalid,metadata:e.metadata,quantity:new f.default(e.quantity||1),exchange:e.exchange,makerAccount:e.maker,takerAccount:e.taker,maker:e.maker.address,taker:e.taker.address,makerRelayerFee:new f.default(e.maker_relayer_fee),takerRelayerFee:new f.default(e.taker_relayer_fee),makerProtocolFee:new f.default(e.maker_protocol_fee),takerProtocolFee:new f.default(e.taker_protocol_fee),makerReferrerFee:new f.default(e.maker_referrer_fee||0),waitingForBestCounterOrder:e.fee_recipient.address==y.NULL_ADDRESS,feeMethod:e.fee_method,feeRecipientAccount:e.fee_recipient,feeRecipient:e.fee_recipient.address,side:e.side,saleKind:e.sale_kind,target:e.target,howToCall:e.how_to_call,calldata:e.calldata,replacementPattern:e.replacement_pattern,staticTarget:e.static_target,staticExtradata:e.static_extradata,paymentToken:e.payment_token,basePrice:new f.default(e.base_price),extra:new f.default(e.extra),currentBounty:new f.default(e.current_bounty||0),currentPrice:new f.default(e.current_price||0),createdTime:new f.default(Math.round(r.getTime()/1e3)),listingTime:new f.default(e.listing_time),expirationTime:new f.default(e.expiration_time),salt:new f.default(e.salt),v:parseInt(e.v),r:e.r,s:e.s,paymentTokenContract:e.payment_token_contract?t.tokenFromJSON(e.payment_token_contract):void 0,asset:e.asset?t.assetFromJSON(e.asset):void 0,assetBundle:e.asset_bundle?t.assetBundleFromJSON(e.asset_bundle):void 0};return n.currentPrice=D(n),n},t.orderToJSON=function(e){return{exchange:e.exchange.toLowerCase(),maker:e.maker.toLowerCase(),taker:e.taker.toLowerCase(),makerRelayerFee:e.makerRelayerFee.toString(),takerRelayerFee:e.takerRelayerFee.toString(),makerProtocolFee:e.makerProtocolFee.toString(),takerProtocolFee:e.takerProtocolFee.toString(),makerReferrerFee:e.makerReferrerFee.toString(),feeMethod:e.feeMethod,feeRecipient:e.feeRecipient.toLowerCase(),side:e.side,saleKind:e.saleKind,target:e.target.toLowerCase(),howToCall:e.howToCall,calldata:e.calldata,replacementPattern:e.replacementPattern,staticTarget:e.staticTarget.toLowerCase(),staticExtradata:e.staticExtradata,paymentToken:e.paymentToken.toLowerCase(),quantity:e.quantity.toString(),basePrice:e.basePrice.toString(),englishAuctionReservePrice:e.englishAuctionReservePrice?e.englishAuctionReservePrice.toString():void 0,extra:e.extra.toString(),createdTime:e.createdTime?e.createdTime.toString():void 0,listingTime:e.listingTime.toString(),expirationTime:e.expirationTime.toString(),salt:e.salt.toString(),metadata:e.metadata,v:e.v,r:e.r,s:e.s,hash:e.hash}},t.personalSignAsync=function(e,t,r){return c(this,void 0,void 0,(function(){var n,o;return l(this,(function(c){switch(c.label){case 0:return[4,T((function(n){return e.currentProvider.sendAsync({method:"personal_sign",params:[t,r],from:r,id:(new Date).getTime()},n)}))];case 1:if(n=c.sent(),o=n.error)throw new Error(o);return[2,k(n.result)]}}))}))},t.isContractAddress=function(e,address){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,T((function(t){return e.eth.getCode(address,t)}))];case 1:return[2,"0x"!==t.sent()]}}))}))},t.makeBigNumber=R,t.sendRawTransaction=function(e,t,r){var n=t.from,o=t.to,data=t.data,d=t.gasPrice,f=t.value,m=void 0===f?0:f,_=t.gas;return c(this,void 0,void 0,(function(){var t;return l(this,(function(c){switch(c.label){case 0:return null!=_?[3,2]:[4,C(e,{from:n,to:o,data:data,value:m})];case 1:_=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,T((function(t){return e.eth.sendTransaction({from:n,to:o,value:m,data:data,gas:_,gasPrice:d},t)}))];case 3:return[2,c.sent().toString()];case 4:throw t=c.sent(),r(t),t;case 5:return[2]}}))}))},t.rawCall=function(e,t,r){var n=t.from,o=t.to,data=t.data;return c(this,void 0,void 0,(function(){var t;return l(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,T((function(t){return e.eth.call({from:n,to:o,data:data},t)}))];case 1:return[2,c.sent()];case 2:return t=c.sent(),r&&r(t),[2,"0x"];case 3:return[2]}}))}))},t.estimateGas=C,t.getCurrentGasPrice=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,T((function(t){return e.eth.getGasPrice(t)}))];case 1:return[2,t.sent()]}}))}))},t.getTransferFeeSettings=function(e,t){var r=t.asset,n=t.accountAddress;return c(this,void 0,void 0,(function(){var t,o,c,d;return l(this,(function(l){switch(l.label){case 0:return r.tokenAddress.toLowerCase()!=y.ENJIN_ADDRESS.toLowerCase()?[3,2]:(c=e.eth.contract(A.ERC1155).at(r.tokenAddress),[4,N((function(e){return c.transferSettings(r.tokenId,{from:n},e)}))]);case 1:(d=l.sent())&&(t=R(d[3]),0==d[2]&&(o=y.ENJIN_COIN_ADDRESS)),l.label=2;case 2:return[2,{transferFee:t,transferFeeTokenAddress:o}]}}))}))},t.estimateCurrentPrice=D,t.getWyvernAsset=O,t.getWyvernBundle=function(e,t,r){if(e.length!=r.length)throw new Error("Bundle must have a quantity for every asset");if(e.length!=t.length)throw new Error("Bundle must have a schema for every asset");var n=e.map((function(e,i){return O(t[i],e,r[i])})),o=[function(e){return e.asset.address},function(e){return e.asset.id||0}],c=n.map((function(e,i){return{asset:e,schema:t[i].name}}));if(h.uniqBy(c,(function(e){return o[0](e)+"-"+o[1](e)})).length!=c.length)throw new Error("Bundle can't contain duplicate assets");var l=h.sortBy(c,o);return{assets:l.map((function(e){return e.asset})),schemas:l.map((function(e){return e.schema}))}},t.getOrderHash=function(e){var t=o({},e,{maker:e.maker.toLowerCase(),taker:e.taker.toLowerCase(),feeRecipient:e.feeRecipient.toLowerCase(),side:e.side.toString(),saleKind:e.saleKind.toString(),howToCall:e.howToCall.toString(),feeMethod:e.feeMethod.toString()});return m.WyvernProtocol.getOrderHashHex(t)},t.assignOrdersToSides=function(e,t){var r,n;return e.side==E.OrderSide.Sell?r=o({},t,{v:(n=e).v,r:n.r,s:n.s}):n=o({},t,{v:(r=e).v,r:r.r,s:r.s}),{buy:r,sell:n}},t.delay=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},t.validateAndFormatWalletAddress=function(e,address){if(!address)throw new Error("No wallet address found");if(!e.isAddress(address))throw new Error("Invalid wallet address");if(address==y.NULL_ADDRESS)throw new Error("Wallet cannot be the null address");return address.toLowerCase()},t.onDeprecated=function(e){console.warn("DEPRECATION NOTICE: "+e)},t.getNonCompliantApprovalAddress=function(e,t,r){return c(this,void 0,void 0,(function(){var r;return l(this,(function(n){switch(n.label){case 0:return[4,Promise.all([N((function(r){return e.kittyIndexToApproved.call(t,r)})),N((function(r){return e.partIndexToApproved.call(t,r)}))])];case 1:return r=n.sent(),[2,h.compact(r)[0]]}}))}))}}}]);
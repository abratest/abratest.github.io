(window.webpackJsonp=window.webpackJsonp||[]).push([[464],{1459:function(e,t,r){"use strict";r.r(t);r(9),r(489),r(93),r(111);t.default=function(e){return null}},1462:function(e,t,r){"use strict";r.r(t);r(9),r(1320),r(117),r(111);t.default=function(e){return null}},1621:function(e,t,r){"use strict";r.r(t);r(49);t.default=function(e){var t=e.isHMR,r=e.app,n=e.route;t||r.$gtmEvent({event:"nuxtRoute",pageType:"PageView",pageUrl:n.fullPath,routeName:n.name})}},1622:function(e,t,r){"use strict";r.r(t);r(32),r(24),r(22),r(25);var n=r(10),c=(r(165),r(120),r(53),r(54),r(15),r(12),r(0)),o=r(42),l=r.n(o);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.default=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,c=t.store,o=t.route,!r&&c.state.user.currentUser){e.next=3;break}return e.abrupt("return");case 3:f=new l.a(c.state.user.currentUser.id.replace(/-/g,""),"hex").toString(10),o.query.ckey&&o.query.ckey.startsWith(f)||n(301,{path:o.path,query:d(d({},o.query),{},{ckey:f+"_"+Date.now()})});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1623:function(e,t,r){"use strict";r.r(t);r(32),r(24),r(22),r(15),r(25);var n=r(10),c=(r(12),r(0)),o=r(97),l=r.n(o),f=r(9),d=r(622);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.default=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,c,o,m,k,y,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isHMR,n=t.store,c=t.req,o=t.res,e.abrupt("return");case 3:return m=r(146),k=new m(c,o),y=k.get("tsb_".concat(f.l,"_token")),w={Cache:"no-cache"},l.a.defaults.headers=y?h(h({},w),{},{Authorization:"Bearer ".concat(y)}):w,e.next=10,Object(d.a)(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1624:function(e,t,r){"use strict";r.r(t);r(68),r(12);var n=r(0),c=r(9);function o(e,t,r,n){return l.apply(this,arguments)}function l(){return(l=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,c){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.dispatch("community/getCommunitiesByUserId");case 2:return e.next=4,r.getters["community/get"]("communitiesByUserId");case 4:if(o=e.sent,l=o.find((function(e){return e.url.slice(1)==t}))){e.next=8;break}return e.abrupt("return",c(n.$toLocale("/".concat(n.i18n.locale,"/"))));case 8:return e.next=10,r.dispatch("community/setSelectedCommunity",l);case 10:return e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,l,f,d,m,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,l=t.app,f=t.params,d=t.store,m=t.route,!r&&f.inviteHash&&f.communityUrl&&f.workspaceUrl){e.next=3;break}return e.abrupt("return",n(l.$toLocale("/")));case 3:if(c.r){e.next=5;break}return e.abrupt("return",n(l.$toLocale("/".concat(l.i18n.locale,"/"))));case 5:if(h=d.state.user.currentUser){e.next=8;break}return e.abrupt("return",n({path:l.$toLocale("/auth/"),query:{redirect:m.path}}));case 8:return e.next=10,o(f.communityUrl,d,l,n);case 10:if(h){e.next=21;break}return e.next=13,d.dispatch("invite/setRedirectInviteHash",f.inviteHash);case 13:return e.next=15,d.dispatch("invite/setRedirectCommumnityUrl",f.communityUrl);case 15:return e.next=17,d.dispatch("invite/setRedirectWorkUrl",f.workspaceUrl);case 17:return e.next=19,d.dispatch("invite/setNeedsRedirect",!0);case 19:e.next=34;break;case 21:return e.next=23,d.dispatch("invite/errorOnClaimInvite",null);case 23:return e.next=25,d.dispatch("invite/claimInvite",{hash:f.inviteHash,commUrl:f.communityUrl});case 25:if(!(k=d.getters["invite/get"]("claimInvite")).success){e.next=30;break}return e.abrupt("return",n(l.$toLocale("/communities/".concat(f.communityUrl,"/workspace/").concat(f.workspaceUrl))));case 30:return e.next=32,d.dispatch("invite/setRedirectCommumnityUrl",f.communityUrl);case 32:return e.next=34,d.dispatch("invite/errorOnClaimInvite",k.msg);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1625:function(e,t,r){"use strict";r.r(t);r(265),r(12);var n=r(0),c=r(56);function o(e){return e&&Object(c.c)(e.roleId)}function l(e,t){return!!(t.ownerAddress&&e.Wallets&&e.Wallets.length>0)&&t.ownerAddress.toLowerCase()===e.Wallets[0].address.toLowerCase()}t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c,f,d,m,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,c=t.app,f=t.params,d=t.store,m=t.route,!r&&f.landId){e.next=3;break}return e.abrupt("return",n(c.$toLocale("/shop/")));case 3:return e.prev=3,e.next=6,d.dispatch("products/getLand",{id:f.landId});case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",n(c.$toLocale("/shop/")));case 11:if(h=d.state.products.mapSelected){e.next=14;break}return e.abrupt("return",n(c.$toLocale("/shop/")));case 14:if(!m.path.endsWith("/edit/")){e.next=18;break}if(o(k=d.state.user.currentUser)||l(k,h)){e.next=18;break}return e.abrupt("return",n(c.$toLocale("/shop/")));case 18:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},1626:function(e,t,r){"use strict";r.r(t);r(25),r(46),r(50),r(22),r(15),r(289);t.default=function(e){var t=e.route,r=e.redirect,n=t.query,c=t.params.lang||"en",o=Object.entries(n),l="";t.path.includes("new-map")&&(0===Object.keys(n).length?r("/".concat(c,"/map/")):(o.forEach((function(e,i){l+=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="";t&&"zoom"===e[0]&&(e[1]="2.5");Array.isArray(e[1])?e[1].forEach((function(q,i){r+=e[0]+"="+q+(i!=e[1].length-1?"&":"")})):r=e[0]+"="+e[1];return r}(e)+(i!=o.length-1?"&":"")})),r("/".concat(c,"/map/?").concat(l))))}},1627:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,n=t.params,e.next=3,r.dispatch("preview/getAssetInfo",n.assetId);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1628:function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=e.isHMR,r=e.route,n=e.redirect,c=e.app;if(!t){var o=c.i18n.locales.some((function(element){return"/".concat(element.code,"/")===r.path.substring(0,element.code.length+2)}));o&&0===r.matched.length?n(301,"/"):o||n(301,"/en"+r.path)}}},1629:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0),c=r(9),o=r(2);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,l,f,d,m,h,k,y,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,l=t.res,f=t.redirect,d=t.app,e.abrupt("return");case 3:if(m=r(146),h=new m(n,l),k=h.get("tsb_".concat(c.l,"_token")),!(y=h.get("tsb_".concat(c.l,"_token_al")))&&!k){e.next=21;break}return"raffleSnoopDogg",e.prev=9,e.next=12,Object(o.a)().get("whitelists/authorized?productType=".concat("raffleSnoopDogg"),{headers:{Cache:"no-cache",Authorization:"Bearer ".concat(k||y)}});case 12:w=(w=e.sent).data,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),w=!1;case 19:if(!w){e.next=21;break}return e.abrupt("return",f({path:d.$toLocale("/snoopdogg/raffle/mint")}));case 21:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}()},1630:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0),c=r(9),o=r(256);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,l,f,d,m,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,l=t.res,f=t.store,e.abrupt("return");case 3:d=r(146),m=new d(n,l),(h=m.get("tsb_".concat(c.l,"_token_al")))&&(k=Object(o.a)(h).data.walletAddress,f.dispatch("user/setTempUser",{address:k}),f.dispatch("user/setRequireSignup",!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1631:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0),c=r(9);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,o,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,o=t.res,l=t.store,e.abrupt("return");case 3:f=r(146),d=new f(n,o),d.get("tsb_".concat(c.l,"_token_al"))&&l.dispatch("user/setNeedToLogoutAccountless",{needToLogout:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1632:function(e,t,r){"use strict";r.r(t);r(53),r(54),r(15),r(120),r(12);var n=r(0),c=r(40),o=r.n(c),l=r(256),f=r(78),d=r(9),m=r(42),h=r.n(m),k=r(231),y=r.n(k),w=r(2);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,c,m,k,v,x,U,O,R,j,L,$,I,S,C,P,M,A,D,W,B;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,c=t.res,m=t.store,k=t.redirect,v=t.app,e.abrupt("return",k({path:v.$toLocale("/snoopdogg/")}));case 3:if(x=r(146),U=new x(n,c),O=U.get("tsb_".concat(d.l,"_token")),R=U.get("tsb_".concat(d.l,"_token_al")),O||R){e.next=9;break}return e.abrupt("return",k({path:v.$toLocale("/snoopdogg/")}));case 9:if(j=v.$config.raffle.status,L=v.$config.raffle.raffleWaveType,R?($=Object(l.a)(R).data.walletAddress,m.dispatch("user/setTempUser",{address:$})):m.state.user.currentUser&&($=Object(l.a)(O).data.walletAddress,m.dispatch("user/setWalletUser",{address:$})),0==L||!R&&!O||"on"!==j){e.next=26;break}return"raffleSnoopDogg",e.prev=14,e.next=17,Object(w.a)().get("whitelists/authorized?productType=".concat("raffleSnoopDogg"),{headers:{Cache:"no-cache",Authorization:"Bearer ".concat(O||R)}});case 17:I=(I=e.sent).data,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),I=!1;case 24:if(I){e.next=26;break}return e.abrupt("return",k({path:v.$toLocale("/snoopdogg/raffle/noaccess")}));case 26:if(S=null,m.state.user.currentUser&&m.state.user.currentUser.Wallets&&m.state.user.currentUser.Wallets.length>0&&(S=m.state.user.currentUser.Wallets[0].type),!(!1==!!m.state.user.currentUser&&!R||"wconnect"===S&&m.state.user.currentUser||"on"!==j)){e.next=32;break}return e.abrupt("return",k({path:v.$toLocale("/snoopdogg/raffle")}));case 32:return C=new o.a,P=new h.a(y.a.randomBytes(32)),e.next=36,f.a.get("AvatarsSnoopDogg");case 36:return M=e.sent,e.next=39,C.eth.abi.encodeParameters(["address","uint256","address","uint256"],[$,P,M.address,M.chainId]);case 39:return A=e.sent,e.next=42,o.a.utils.sha3(A);case 42:return D=e.sent,W=v.$config.raffleSnoopPrivateKey.replace("0x",""),e.next=46,C.eth.accounts.sign(D,W);case 46:B=e.sent,m.dispatch("raffle/updateSignature",{id:P.toString("hex"),hash:B.signature});case 48:case"end":return e.stop()}}),e,null,[[14,21]])})));return function(t){return e.apply(this,arguments)}}()},1918:function(e,t,r){"use strict";r.r(t);r(46),r(50),r(12);var n=r(0);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.app,n=t.redirect,c=t.route,o=r.$config.raffle.status,l=r.$config.raffle.raffleWaveType,!c.path.includes("/snoopdogg/raffle/noaccess/")||"on"!==o||"0"!==l){e.next=5;break}return e.abrupt("return",n({path:r.$toLocale("/snoopdogg/raffle")}));case 5:if("pre-launch"!==o&&"post-launch"!==o&&"off"!==o){e.next=7;break}return e.abrupt("return",n({path:r.$toLocale("/snoopdogg")}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1919:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0),c=r(9),o=r(56);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,l,f,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.redirect,n=t.app,l=t.store,f=l.getters["user/getUser"],d=f&&Object(o.c)(f.roleId),m=l.getters["whitelist/isAuthorized"]("sandStaking"),c.y||d||m||r(n.$toLocale("/"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1920:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0),c=r(9),o=r(56);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,l,f,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.redirect,n=t.app,l=t.store,c.J||(f=l.getters["user/getUser"],d=f&&Object(o.c)(f.roleId),m=l.getters["whitelist/isAuthorized"]("season"),d||m||r(n.$toLocale("/")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1921:function(e,t,r){"use strict";r.r(t);r(22),r(142),r(24),r(58),r(122),r(49),r(53),r(54),r(15),r(12);var n=r(0);function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,f=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){f=!0,c=e},f:function(){try{l||null==r.return||r.return()}finally{if(f)throw c}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,f,path,d,m,h,k,y,w,v,x,U,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.store,o=t.redirect,l=t.app,f=t.route,path=f.path.substring(3,20).toLowerCase(),!r){e.next=4;break}return e.abrupt("return",o({path:l.$toLocale("/auth/"),query:{redirectTo:f.fullPath}}));case 4:if(d=n.getters["season/get"]("seasonList"),m=new Date,h=[],k=[],y=null,null!=d&&d.length){w=c(d);try{for(w.s();!(v=w.n()).done;)x=v.value,new Date(x.startDate)>m?k.push(x):new Date(x.startDate)<=m&&new Date(x.endDate)>m?y=x:new Date(x.endDate)<m&&h.push(x)}catch(e){w.e(e)}finally{w.f()}}return e.next=12,n.dispatch("season/setNextSeason",k.length?k[k.length-1]:null);case 12:return e.next=14,n.dispatch("season/setCurrentSeason",y);case 14:return e.next=16,n.dispatch("season/setLastSeason",h.length?h[0]:null);case 16:if(U=n.getters["season/get"]("nextSeason"),O=n.getters["preregistration/get"]("preRegistrationBySeasonId"),!U||"/season/"!==path){e.next=24;break}return e.next=21,n.dispatch("preregistration/preRegistrationBySeasonId",U.id);case 21:if(!(O=n.getters["preregistration/get"]("preRegistrationBySeasonId"))||!O[0]||"Unregistered"!==O[0].type){e.next=24;break}return e.abrupt("return",o({path:l.$toLocale("/season/rewards/")}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1922:function(e,t,r){"use strict";r.r(t);r(68);var n=r(1923);t.default=function(e,t,r){var c=n.find((function(t){return t.from===e.url}));c?(t.writeHead(301,{Location:c.to}),t.end()):r()}},1924:function(e,t,r){"use strict";r.r(t);r(120),r(265),r(165),r(12);var n=r(0);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.route,c=t.redirect,!r){e.next=3;break}return e.abrupt("return");case 3:if(!n.fullPath.startsWith("/model-viewer/")){e.next=5;break}return e.abrupt("return");case 5:if(o=/(\/\/+)/,n.path.endsWith("/")){e.next=10;break}return l=n.path.replace(o,"/"),f={query:n.query,path:l+"/"},e.abrupt("return",c(301,f));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1925:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,c=t.app,o=t.params,l=t.store,!r&&o.lpTitle&&o.lpId){e.next=3;break}return e.abrupt("return",n(c.$toLocale("/staking/stake/")));case 3:return e.prev=3,e.next=6,l.dispatch("staking/setSelectedLPId",o.lpId);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",n(c.$toLocale("/staking/stake/")));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},1926:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.redirect,n=t.app,c=t.store,c.getters["whitelist/isAuthorized"]("swap")||r(n.$toLocale("/"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1927:function(e,t,r){"use strict";r.r(t);r(12);var n=r(0);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,c=t.app,o=t.store,l=t.route,f=o.state.user.currentUser,!r){e.next=4;break}return e.abrupt("return",n(c.$toLocale("/".concat(c.i18n.locale,"/"))));case 4:if(f){e.next=6;break}return e.abrupt("return",n({path:c.$toLocale("/auth/"),query:{redirect:l.fullPath}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1928:function(e,t,r){"use strict";r.r(t);r(120),r(12);var n=r(0),c=r(2);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,f,d,m,h,k,y,path;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,o=t.app,l=t.params,f=t.store,d=t.route,!r&&l.userName&&l.userId){e.next=3;break}return e.abrupt("return",n(o.$toLocale("/shop")));case 3:if(f.state.page.userRedirect!==l.userId){e.next=8;break}if(f.dispatch("page/userRedirect",null),!(m=f.getters["users/get"]("selectedUser"))||m.id!==l.userId){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,Object(c.a)().get("/users/"+l.userId).catch((function(e){return console.error(e.response?e.response.data:e),null}));case 10:if(h=e.sent){e.next=13;break}return e.abrupt("return",n(o.$toLocale("/shop")));case 13:k=h.data,f.dispatch("users/selectUser",k),y=o.$encode(o.$username(k,-1)),l.userName!==y&&(f.dispatch("page/userRedirect",k.id),path=d.matched[0].path.replace("/:lang?","/".concat(l.lang)).replace("/:userName?","/".concat(y)).replace("/:userId","/".concat(k.id)),n({path:path}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1929:function(e,t,r){"use strict";r.r(t);r(68),r(12);var n=r(0),c=r(9);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,f,d,m,h,k,y,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,o=t.app,l=t.params,f=t.store,d=t.route,c.r){e.next=3;break}return e.abrupt("return",n(o.$toLocale("/".concat(o.i18n.locale,"/"))));case 3:if(m=f.state.user.currentUser){e.next=6;break}return e.abrupt("return",n({path:o.$toLocale("/auth/"),query:{redirect:d.path}}));case 6:if(!r&&l.workspaceUrl&&l.communityUrl){e.next=8;break}return e.abrupt("return",n(o.$toLocale("/")));case 8:if(h=f.getters["workspaces/get"]("workspaces",[])){e.next=23;break}return e.next=12,f.dispatch("community/getCommunitiesByUserId");case 12:if(k=f.getters["community/get"]("communitiesByUserId"),y=k.find((function(e){return e.url.slice(1)==l.communityUrl}))){e.next=16;break}return e.abrupt("return",n(o.$toLocale("/")));case 16:return e.next=18,f.dispatch("community/setSelectedCommunity",y);case 18:return e.next=20,f.dispatch("workspaces/getWorkspaces",{communityId:y.id});case 20:return e.next=22,f.dispatch("community/getCommunityMemberByUserId",{id:y.id,user:m.id});case 22:h=f.getters["workspaces/get"]("workspaces",[]);case 23:if(h.find((function(e){var t=l.workspaceUrl;return"/"==e.url[0]&&"/"!=l.workspaceUrl&&(t="/"+l.workspaceUrl),"/"!=e.url[0]&&"/"==l.workspaceUrl&&(t=l.workspaceUrl.slice(1)),e.url==t}))){e.next=26;break}return e.abrupt("return",n(o.$toLocale("/")));case 26:if(f.getters["workspaces/get"]("workspaceMembers",[])){e.next=35;break}return e.next=30,f.dispatch("community/getCommunitiesByUserId");case 30:if(w=f.getters["community/get"]("communitiesByUserId"),w.find((function(e){return e.url.slice(1)==l.communityUrl}))){e.next=34;break}return e.abrupt("return",n(o.$toLocale("/")));case 34:f.getters["workspaces/get"]("workspaceMembers",[]);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1930:function(e,t,r){"use strict";r.r(t);r(68),r(12);var n=r(0),c=r(9);t.default=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,f,d,m,h,k,y,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,o=t.app,l=t.params,f=t.store,d=t.route,c.r){e.next=3;break}return e.abrupt("return",n(o.$toLocale("/".concat(o.i18n.locale,"/"))));case 3:if(m=f.state.user.currentUser){e.next=6;break}return e.abrupt("return",n({path:o.$toLocale("/auth/"),query:{redirect:d.path}}));case 6:if(!r&&l.workspaceUrl&&l.communityUrl){e.next=8;break}return e.abrupt("return",n(o.$toLocale("/")));case 8:if(h=f.getters["workspaces/get"]("workspaces",[])){e.next=23;break}return e.next=12,f.dispatch("community/getCommunitiesByUserId");case 12:if(k=f.getters["community/get"]("communitiesByUserId"),y=k.find((function(e){return e.url.slice(1)==l.communityUrl}))){e.next=16;break}return e.abrupt("return",n(o.$toLocale("/")));case 16:return e.next=18,f.dispatch("community/setSelectedCommunity",y);case 18:return e.next=20,f.dispatch("workspaces/getWorkspaces",{communityId:y.id});case 20:return e.next=22,f.dispatch("community/getCommunityMemberByUserId",{id:y.id,user:m.id});case 22:h=f.getters["workspaces/get"]("workspaces",[]);case 23:if(h.find((function(e){var t=l.workspaceUrl;return"/"==e.url[0]&&"/"!=l.workspaceUrl&&(t="/"+l.workspaceUrl),"/"!=e.url[0]&&"/"==l.workspaceUrl&&(t=l.workspaceUrl.slice(1)),e.url==t}))){e.next=26;break}return e.abrupt("return",n(o.$toLocale("/")));case 26:if(f.getters["workspaces/get"]("workspaceMembers",[])){e.next=35;break}return e.next=30,f.dispatch("community/getCommunitiesByUserId");case 30:if(w=f.getters["community/get"]("communitiesByUserId"),w.find((function(e){return e.url.slice(1)==l.communityUrl}))){e.next=34;break}return e.abrupt("return",n(o.$toLocale("/")));case 34:f.getters["workspaces/get"]("workspaceMembers",[]);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1931:function(e,t,r){"use strict";r.r(t);var n=r(43),c=(r(68),r(12),r(0)),o=r(9);function l(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(regeneratorRuntime.mark((function e(t,r,n,c){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.dispatch("community/getCommunitiesByUserId");case 2:return e.next=4,r.getters["community/get"]("communitiesByUserId");case 4:if(o=e.sent,l=o.find((function(e){return e.url.slice(1)==t}))){e.next=8;break}return e.abrupt("return",c(n.$toLocale("/".concat(n.i18n.locale,"/"))));case 8:return e.next=10,r.dispatch("community/setSelectedCommunity",l);case 10:return e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,r,n,c,o,l){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(regeneratorRuntime.mark((function e(t,r,n,c,o,l,f){var d,m,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=o.getters["workspaces/get"]("workspaces",[]),e.next=3,o.getters["workspaces/get"]("workspaceSettingsUpdated");case 3:if(m=e.sent,!((d=d&&d.rows||d)&&0==d.length||!d||m)){e.next=9;break}return e.next=8,o.dispatch("workspaces/getWorkspaces",{communityId:r,query:{url:t}});case 8:d=o.getters["workspaces/get"]("workspaces",[]);case 9:return e.next=11,o.dispatch("community/getCommunityMemberByUserId",{id:r,user:c});case 11:if(h=d&&d.rows||d,k=h.find((function(e){var r=t;return"/"==e.url[0]&&"/"!=t&&(r="/"+t),"/"!=e.url[0]&&"/"==t&&(r=t.substr(1)),e.url==r}))){e.next=15;break}return e.abrupt("return",f({path:l.$toLocale("/".concat(l.i18n.locale,"/communities/").concat(n,"/"))}));case 15:return e.next=17,o.dispatch("workspaces/workspaceSettingsUpdated",!1);case 17:return e.next=19,o.dispatch("community/setSelectedWorkspace",k);case 19:return e.next=21,o.dispatch("workspaces/setProperty",{prop:"currentWorkspace",value:k});case 21:return e.abrupt("return",k);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){return k.apply(this,arguments)}function k(){return(k=Object(c.a)(regeneratorRuntime.mark((function e(t,r,c){var o,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.dispatch("workspaces/getWorkspaceMembers",t);case 2:if(!((o=c.getters["workspaces/get"]("workspaceMembers",[]))&&o.length>0)){e.next=12;break}if(!(l=o.find((function(e){return e.user==r})))){e.next=8;break}return e.next=8,c.dispatch("workspaces/getWorkspaceMember",l.id);case 8:f=c.getters["workspaces/get"]("workspaceMember"),d=[],f&&f.groups.forEach((function(e){d.push.apply(d,Object(n.a)(e.permissions))})),c.dispatch("workspaces/setProperty",{prop:"memberPermissions",value:d});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,c,f,m,k,y,w,v,x,U,O,R,j,L,$;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.isHMR,n=t.redirect,c=t.app,f=t.params,m=t.store,k=t.route,e.prev=1,v=m.state.user.currentUser){e.next=5;break}return e.abrupt("return",n({path:c.$toLocale("/auth/"),query:{redirect:k.path}}));case 5:if(o.r){e.next=7;break}return e.abrupt("return",n(c.$toLocale("/".concat(c.i18n.locale,"/"))));case 7:if(!o.t){e.next=16;break}return e.next=10,m.getters["whitelist/isRegistered"]("contentCollab");case 10:return x=e.sent,e.next=13,m.getters["whitelist/isAuthorized"]("contentCollab");case 13:if(U=e.sent,x&&U){e.next=16;break}return e.abrupt("return",n(c.$toLocale("/".concat(c.i18n.locale,"/"))));case 16:if(!r&&f.workspaceUrl&&f.communityUrl){e.next=18;break}return e.abrupt("return",n(c.$toLocale("/".concat(c.i18n.locale,"/"))));case 18:if(y=m.getters["community/get"]("selectedCommunity"),w=m.getters["community/get"]("selectedWorkspace"),(!y||y.url==="/".concat(f.communityUrl))&&y){e.next=31;break}return e.next=23,l(f.communityUrl,m,c,n);case 23:return O=e.sent,e.next=26,d(f.workspaceUrl,O.id,f.communityUrl,v.id,m,c,n);case 26:return R=e.sent,e.next=29,h(R.id,v.id,m);case 29:e.next=47;break;case 31:if((!w||w.url==="/".concat(f.workspaceUrl))&&w){e.next=42;break}return e.next=34,m.getters["community/get"]("selectedCommunity");case 34:return j=e.sent,e.next=37,d(f.workspaceUrl,j.id,f.communityUrl,v.id,m,c,n);case 37:return L=e.sent,e.next=40,h(L.id,v.id,m);case 40:e.next=47;break;case 42:return e.next=44,m.getters["community/get"]("selectedWorkspace");case 44:return $=e.sent,e.next=47,h($.id,v.id,m);case 47:e.next=53;break;case 49:return e.prev=49,e.t0=e.catch(1),console.error("Error catched",e.t0),e.abrupt("return",n({path:c.$toLocale("/".concat(c.i18n.locale,"/communities/").concat(f.communityUrl,"/"))}));case 53:case"end":return e.stop()}}),e,null,[[1,49]])})));return function(t){return e.apply(this,arguments)}}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{1634:function(t,r,e){"use strict";const{callbackify:n}=e(104);var o=e(194).errors,c=e(955),l=e(1664),d=e(1665),h=function t(r,e){this.provider=null,this.providers=t.providers,this.setProvider(r,e),this.subscriptions=new Map};h.givenProvider=d,h.providers={WebsocketProvider:e(1666),HttpProvider:e(1671),IpcProvider:e(1678)},h.prototype.setProvider=function(t,r){var e=this;if(t&&"string"==typeof t&&this.providers)if(/^http(s)?:\/\//i.test(t))t=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))t=new this.providers.WebsocketProvider(t);else if(t&&"object"==typeof r&&"function"==typeof r.connect)t=new this.providers.IpcProvider(t,r);else if(t)throw new Error("Can't autodetect provider for \""+t+'"');if(this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=t||null,this.provider&&this.provider.on){"function"==typeof t.request?this.provider.on("message",(function(t){if(t&&"eth_subscription"===t.type&&t.data){const data=t.data;data.subscription&&e.subscriptions.has(data.subscription)&&e.subscriptions.get(data.subscription).callback(null,data.result)}})):this.provider.on("data",(function(t,r){(t=t||r).method&&t.params&&t.params.subscription&&e.subscriptions.has(t.params.subscription)&&e.subscriptions.get(t.params.subscription).callback(null,t.params.result)})),this.provider.on("connect",(function(){e.subscriptions.forEach((function(t){t.subscription.resubscribe()}))})),this.provider.on("error",(function(t){e.subscriptions.forEach((function(r){r.callback(t)}))}));const r=function(t){e._isCleanCloseEvent(t)&&!e._isIpcCloseError(t)||(e.subscriptions.forEach((function(r){r.callback(o.ConnectionCloseError(t)),e.subscriptions.delete(r.subscription.id)})),e.provider&&e.provider.emit&&e.provider.emit("error",o.ConnectionCloseError(t))),e.provider&&e.provider.emit&&e.provider.emit("end",t)};this.provider.on("close",r),this.provider.on("disconnect",r)}},h.prototype.send=function(data,t){if(t=t||function(){},!this.provider)return t(o.InvalidProvider());const{method:r,params:e}=data,l=c.toPayload(r,e),d=this._jsonrpcResultCallback(t,l);if(this.provider.request){n(this.provider.request.bind(this.provider))({method:r,params:e},t)}else if(this.provider.sendAsync)this.provider.sendAsync(l,d);else{if(!this.provider.send)throw new Error("Provider does not have a request or send method to use.");this.provider.send(l,d)}},h.prototype.sendBatch=function(data,t){if(!this.provider)return t(o.InvalidProvider());var r=c.toBatchPayload(data);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,(function(r,e){return r?t(r):Array.isArray(e)?void t(null,e):t(o.InvalidResponse(e))}))},h.prototype.addSubscription=function(t,r){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions.set(t.id,{callback:r,subscription:t})},h.prototype.removeSubscription=function(t,r){if(this.subscriptions.has(t)){var e=this.subscriptions.get(t).subscription.options.type;return this.subscriptions.delete(t),void this.send({method:e+"_unsubscribe",params:[t]},r)}"function"==typeof r&&r(null)},h.prototype.clearSubscriptions=function(t){try{var r=this;return this.subscriptions.size>0&&this.subscriptions.forEach((function(e,n){t&&"syncing"===e.name||r.removeSubscription(n)})),this.provider.reset&&this.provider.reset(),!0}catch(t){throw new Error("Error while clearing subscriptions: "+t)}},h.prototype._isCleanCloseEvent=function(t){return"object"==typeof t&&([1e3].includes(t.code)||!0===t.wasClean)},h.prototype._isIpcCloseError=function(t){return"boolean"==typeof t&&t},h.prototype._jsonrpcResultCallback=function(t,r){return function(e,n){return n&&n.id&&r.id!==n.id?t(new Error(`Wrong response id ${n.id} (expected: ${r.id}) in ${JSON.stringify(r)}`)):e?t(e):n&&n.error?t(o.ErrorResponse(n)):c.isValidResponse(n)?void t(null,n.result):t(o.InvalidResponse(n))}},t.exports={Manager:h,BatchManager:l}},1663:function(t,r,e){"use strict";const n=e(298),o=e(527),c=function(t){const r="A".charCodeAt(0),e="Z".charCodeAt(0);return(t=(t=t.toUpperCase()).substr(4)+t.substr(0,4)).split("").map((function(t){const code=t.charCodeAt(0);return code>=r&&code<=e?code-r+10:t})).join("")},l=function(t){let r,e=t;for(;e.length>2;)r=e.slice(0,9),e=parseInt(r,10)%97+e.slice(r.length);return parseInt(e,10)%97};class d{constructor(t){this._iban=t}static toAddress(t){if(!(t=new d(t)).isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()}static toIban(address){return d.fromAddress(address).toString()}static fromAddress(address){if(!n.isAddress(address))throw new Error("Provided address is not a valid address: "+address);address=address.replace("0x","").replace("0X","");const t=function(t,r){let e=t;for(;e.length<2*r;)e="0"+e;return e}(new o(address,16).toString(36),15);return d.fromBban(t.toUpperCase())}static fromBban(t){const r=("0"+(98-l(c("XE00"+t)))).slice(-2);return new d("XE"+r+t)}static createIndirect(t){return d.fromBban("ETH"+t.institution+t.identifier)}static isValid(t){return new d(t).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===l(c(this._iban))}isDirect(){return 34===this._iban.length||35===this._iban.length}isIndirect(){return 20===this._iban.length}checksum(){return this._iban.substr(2,2)}institution(){return this.isIndirect()?this._iban.substr(7,4):""}client(){return this.isIndirect()?this._iban.substr(11):""}toAddress(){if(this.isDirect()){const t=this._iban.substr(4),r=new o(t,36);return n.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}}t.exports=d},1664:function(t,r,e){"use strict";var n=e(955),o=e(194).errors,c=function(t){this.requestManager=t,this.requests=[]};c.prototype.add=function(t){this.requests.push(t)},c.prototype.execute=function(){var t=this.requests,r=this._sortResponses.bind(this);this.requestManager.sendBatch(t,(function(e,c){c=r(c),t.map((function(t,r){return c[r]||{}})).forEach((function(r,e){if(t[e].callback){if(r&&r.error)return t[e].callback(o.ErrorResponse(r));if(!n.isValidResponse(r))return t[e].callback(o.InvalidResponse(r));try{t[e].callback(null,t[e].format?t[e].format(r.result):r.result)}catch(r){t[e].callback(r)}}}))}))},c.prototype._sortResponses=function(t){return(t||[]).sort((a,b)=>a.id-b.id)},t.exports=c},1665:function(t,r,e){"use strict";var n=null,o="object"==typeof globalThis?globalThis:void 0;if(!o)try{o=Function("return this")()}catch(t){o=self}void 0!==o.ethereum?n=o.ethereum:void 0!==o.web3&&o.web3.currentProvider&&(o.web3.currentProvider.sendAsync&&(o.web3.currentProvider.send=o.web3.currentProvider.sendAsync,delete o.web3.currentProvider.sendAsync),!o.web3.currentProvider.on&&o.web3.currentProvider.connection&&"ipcProviderWrapper"===o.web3.currentProvider.connection.constructor.name&&(o.web3.currentProvider.on=function(t,r){if("function"!=typeof r)throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.connection.on("data",(function(data){var t="";data=data.toString();try{t=JSON.parse(data)}catch(t){return r(new Error("Couldn't parse response data"+data))}t.id||-1===t.method.indexOf("_subscription")||r(null,t)}));break;default:this.connection.on(t,r)}}),n=o.web3.currentProvider),t.exports=n},1679:function(t,r,e){"use strict";var n=e(194).formatters,o=e(691),c=e(298);t.exports=function(t){var r=function(r){var e;return r.property?(t[r.property]||(t[r.property]={}),e=t[r.property]):e=t,r.methods&&r.methods.forEach((function(r){r instanceof o||(r=new o(r)),r.attachToObject(e),r.setRequestManager(t._requestManager)})),t};return r.formatters=n,r.utils=c,r.Method=o,r}},1680:function(t,r,e){"use strict";var n=e(113),o=function(t){var r,e,o=new Promise((function(){r=arguments[0],e=arguments[1]}));if(t)return{resolve:r,reject:e,eventEmitter:o};var c=new n;return o._events=c._events,o.emit=c.emit,o.on=c.on,o.once=c.once,o.off=c.off,o.listeners=c.listeners,o.addListener=c.addListener,o.removeListener=c.removeListener,o.removeAllListeners=c.removeAllListeners,{resolve:r,reject:e,eventEmitter:o}};o.resolve=function(t){var r=o(!0);return r.resolve(t),r.eventEmitter},t.exports=o},1681:function(t,r,e){"use strict";var n=e(1682),o=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};o.prototype.setRequestManager=function(t){this.requestManager=t},o.prototype.attachToObject=function(t){var r=this.buildCall(),e=this.name.split(".");e.length>1?(t[e[0]]=t[e[0]]||{},t[e[0]][e[1]]=r):t[e[0]]=r},o.prototype.buildCall=function(){var t=this;return function(){t.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var r=new n({subscription:t.subscriptions[arguments[0]]||{},requestManager:t.requestManager,type:t.type});return r.subscribe.apply(r,arguments)}},t.exports={subscriptions:o,subscription:n}},1682:function(t,r,e){"use strict";var n=e(194).errors,o=e(113),c=e(194).formatters;function l(t){return t}function d(t){o.call(this),this.id=null,this.callback=l,this.arguments=null,this.lastBlock=null,this.options={subscription:t.subscription,type:t.type,requestManager:t.requestManager}}d.prototype=Object.create(o.prototype),d.prototype.constructor=d,d.prototype._extractCallback=function(t){if("function"==typeof t[t.length-1])return t.pop()},d.prototype._validateArgs=function(t){var r=this.options.subscription;if(r||(r={}),r.params||(r.params=0),t.length!==r.params)throw n.InvalidNumberOfParams(t.length,r.params,r.subscriptionName)},d.prototype._formatInput=function(t){var r=this.options.subscription;return r&&r.inputFormatter?r.inputFormatter.map((function(r,e){return r?r(t[e]):t[e]})):t},d.prototype._formatOutput=function(t){var r=this.options.subscription;return r&&r.outputFormatter&&t?r.outputFormatter(t):t},d.prototype._toPayload=function(t){var r=[];if(this.callback=this._extractCallback(t)||l,this.subscriptionMethod||(this.subscriptionMethod=t.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(t),this._validateArgs(this.arguments),t=[]),r.push(this.subscriptionMethod),r=r.concat(this.arguments),t.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:r}},d.prototype.unsubscribe=function(t){this.options.requestManager.removeSubscription(this.id,t),this.id=null,this.lastBlock=null,this.removeAllListeners()},d.prototype.subscribe=function(){var t=this,r=Array.prototype.slice.call(arguments),e=this._toPayload(r);if(!e)return this;if(!this.options.requestManager.provider)return setTimeout((function(){var r=new Error("No provider set.");t.callback(r,null,t),t.emit("error",r)}),0),this;if(!this.options.requestManager.provider.on)return setTimeout((function(){var r=new Error("The current provider doesn't support subscriptions: "+t.options.requestManager.provider.constructor.name);t.callback(r,null,t),t.emit("error",r)}),0),this;if(this.lastBlock&&this.options.params&&"object"==typeof this.options.params&&(e.params[1]=this.options.params,e.params[1].fromBlock=c.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=e.params[1],"logs"===e.params[0]&&e.params[1]&&"object"==typeof e.params[1]&&e.params[1].hasOwnProperty("fromBlock")&&isFinite(e.params[1].fromBlock)){var n=Object.assign({},e.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[n]},(function(r,e){r?setTimeout((function(){t.callback(r,null,t),t.emit("error",r)}),0):e.forEach((function(r){var output=t._formatOutput(r);t.callback(null,output,t),t.emit("data",output)}))}))}return"object"==typeof e.params[1]&&delete e.params[1].fromBlock,this.options.requestManager.send(e,(function(r,n){!r&&n?(t.id=n,t.method=e.params[0],t.options.requestManager.addSubscription(t,(function(r,e){r?(t.callback(r,!1,t),t.emit("error",r)):(Array.isArray(e)||(e=[e]),e.forEach((function(r){var output=t._formatOutput(r);if(t.lastBlock=output&&"object"==typeof output?output.blockNumber:null,"function"==typeof t.options.subscription.subscriptionHandler)return t.options.subscription.subscriptionHandler.call(t,output);t.emit("data",output),t.callback(null,output,t)})))})),t.emit("connected",n)):setTimeout((function(){t.callback(r,!1,t),t.emit("error",r)}),0)})),this},d.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)},t.exports=d},1874:function(t,r,e){"use strict";var n=e(686),o=e(691),c=e(298),l=e(994),d=e(194).formatters,h=function(){var t=this;n.packageInit(this,arguments),this.net=new l(this);var r=null,e="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return r},set:function(t){return t&&(r=c.toChecksumAddress(d.inputAddressFormatter(t))),h.forEach((function(t){t.defaultAccount=r})),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return e},set:function(t){return e=t,h.forEach((function(t){t.defaultBlock=e})),t},enumerable:!0});var h=[new o({name:"getAccounts",call:"personal_listAccounts",params:0,outputFormatter:c.toChecksumAddress}),new o({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:c.toChecksumAddress}),new o({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[d.inputAddressFormatter,null,null]}),new o({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[d.inputAddressFormatter]}),new o({name:"importRawKey",call:"personal_importRawKey",params:2}),new o({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[d.inputTransactionFormatter,null]}),new o({name:"signTransaction",call:"personal_signTransaction",params:2,inputFormatter:[d.inputTransactionFormatter,null]}),new o({name:"sign",call:"personal_sign",params:3,inputFormatter:[d.inputSignFormatter,d.inputAddressFormatter,null]}),new o({name:"ecRecover",call:"personal_ecRecover",params:2,inputFormatter:[d.inputSignFormatter,null]})];h.forEach((function(r){r.attachToObject(t),r.setRequestManager(t._requestManager),r.defaultBlock=t.defaultBlock,r.defaultAccount=t.defaultAccount}))};n.addProviders(h),t.exports=h},686:function(t,r,e){const n=e(1634),o=e(1679);t.exports={packageInit:(t,r)=>{if(r=Array.prototype.slice.call(r),!t)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(t,"currentProvider",{get:()=>t._provider,set:r=>t.setProvider(r),enumerable:!0,configurable:!0}),r[0]&&r[0]._requestManager?t._requestManager=r[0]._requestManager:t._requestManager=new n.Manager(r[0],r[1]),t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers,t._provider=t._requestManager.provider,t.setProvider||(t.setProvider=(r,e)=>(t._requestManager.setProvider(r,e),t._provider=t._requestManager.provider,!0)),t.setRequestManager=r=>{t._requestManager=r,t._provider=r.provider},t.BatchRequest=n.BatchManager.bind(null,t._requestManager),t.extend=o(t)},addProviders:t=>{t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers}}},955:function(t,r,e){"use strict";var n={messageId:0,toPayload:function(t,r){if(!t)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(r)+'"!');return n.messageId++,{jsonrpc:"2.0",id:n.messageId,method:t,params:r||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(r):r(t);function r(t){return!(!t||t.error||"2.0"!==t.jsonrpc||"number"!=typeof t.id&&"string"!=typeof t.id||void 0===t.result)}},toBatchPayload:function(t){return t.map((function(t){return n.toPayload(t.method,t.params)}))}};t.exports=n},994:function(t,r,e){"use strict";var n=e(686),o=e(691),c=e(298),l=function(){var t=this;n.packageInit(this,arguments),[new o({name:"getId",call:"net_version",params:0,outputFormatter:parseInt}),new o({name:"isListening",call:"net_listening",params:0}),new o({name:"getPeerCount",call:"net_peerCount",params:0,outputFormatter:c.hexToNumber})].forEach((function(r){r.attachToObject(t),r.setRequestManager(t._requestManager)}))};n.addProviders(l),t.exports=l}}]);
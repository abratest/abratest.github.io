(window.webpackJsonp=window.webpackJsonp||[]).push([[472],{2594:function(e,t,r){"use strict";r.r(t),r.d(t,"mutations",(function(){return x})),r.d(t,"getters",(function(){return j})),r.d(t,"state",(function(){return P})),r.d(t,"actions",(function(){return C}));r(32),r(24),r(22),r(15),r(25),r(12);var n=r(10),c=r(0),o=r(1),l=r(36),d=r(47),f=r(80),m=r(343),v=r(5),h=r(428),O=r(21);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x=o.c,j=o.b,k={count:0,rows:[],page:0},P=function(){return{lands:{data:k,status:"loading"},landsFilters:{data:{sizes:[],premium:[],fromCoordinate:[],toCoordinate:[]},status:"success"},estates:{data:k,status:"loading"},assetsPublic:{data:k,status:"loading"},assetsSale:{data:k,status:"loading"},assetsFilters:{data:{categories:[],themes:[],behaviours:[],rarities:[],attributes:[],bodyparts:[],sections:[],s:""},status:"success"},staticTotal:{data:0,status:"success"},weeklySale:{data:null,status:"loading"},onSaleFilter:{data:0,status:"success"},sandToFiatConversion:{data:null,status:"success"},ethereumToFiatConversion:{data:null,status:"success"},maticToFiatConversion:{data:null,status:"success"},layer2AssetSignedAuctionContract:{data:null,status:"loading"}}};function S(e,t,r,n){return R.apply(this,arguments)}function R(){return(R=Object(c.a)(regeneratorRuntime.mark((function e(t,r,n,c){var l,d,f,m,v,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.commit,d=Object(o.a)(l,r),e.prev=2,f=c.limit||4,m=c.page||0,v=m*f,e.next=8,n(c.isFromMap?y({},c):y(y({},c),{},{limit:f,offset:v}));case 8:return h=e.sent,d.success(y(y({},h.data),{},{page:m})),e.abrupt("return",y(y({},h.data),{},{page:m}));case 13:e.prev=13,e.t0=e.catch(2),d.error(Object(o.d)(e.t0));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}var C={setProperty:o.e,getAssetsPublic:function(e,t){var r=y(y({},t),{},{sale:!1});return t.sections>0&&(r.types=t.sections),S(e,"assetsPublic",l.a.searchAssets,r)},getCollectionAssets:function(e,t){var r=y(y({},t),{},{collections:[t.id],sale:!0,includePublic:!0,includeSoldOut:!0});return delete r.id,S(e,"assetsSale",l.a.searchAssets,r)},getAssetsSale:function(e,t){var r,n,c,o=3===(null==t||null===(r=t.sections)||void 0===r?void 0:r.length)||(null==t||null===(n=t.sections)||void 0===n?void 0:n.length)>0&&1003===t.sections[0],d=y(y({},t),{},{sale:!0,includePublic:!1});if((null==t||null===(c=t.sections)||void 0===c?void 0:c.length)>0&&(0===t.sections[0]?(delete d.sections,delete d.types):d.types=t.sections),o){var f={art:6,equipments:1,entity:2};d.sections=[f.art,f.equipments,f.entity],d.types=[f.art,f.equipments,f.entity],d.includePublic=!0}return S(e,"assetsSale",l.a.searchAssets,d)},getLands:function(e,t){return S(e,"lands",d.a.getAvailables,y({},t))},getEstates:function(e,t){return S(e,"estates",f.a.getAvailables,y({},t))},getWeeklySale:Object(v.a)({prop:"weeklySale",func:m.a.getActiveFeaturedUserSale}),searchLands:function(e,t){return S(e,"lands",d.a.searchLands,t)},setOnSaleFilter:function(e,t){return Object(o.a)(e.commit,"onSaleFilter").success(t)},setSandToFiatConversion:Object(v.a)({prop:"sandToFiatConversion",func:h.a.SandToUsdValue}),setEthereumToFiatConversion:Object(v.a)({prop:"ethereumToFiatConversion",func:h.a.EthereumUsdValue}),setMaticToFiatConversion:Object(v.a)({prop:"maticToFiatConversion",func:h.a.MaticUsdValue}),setLayer2AssetSignedAuctionContract:function(e){var t=Object(O.j)("AssetSignedAuction",2);return Object(o.a)(e.commit,"layer2AssetSignedAuctionContract").success(t)}}},2595:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"getters",(function(){return o})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return d}));var n=r(1),c=function(){return{signupOriginUrl:{data:null,status:"loading"}}},o=n.b,l=n.c,d={setSignupOriginUrl:function(e,t){var r=e.commit;Object(n.a)(r,"signupOriginUrl").success(t)}}},2596:function(e,t,r){"use strict";r.r(t),r.d(t,"mutations",(function(){return f})),r.d(t,"getters",(function(){return m})),r.d(t,"state",(function(){return v})),r.d(t,"actions",(function(){return h}));r(32),r(24),r(22),r(15),r(25);var n=r(10),c=r(1),o=r(5),l=r(435);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var f=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},c.c),m=c.b,v=function(){return{snapshots:{data:{},status:"success"},getUsersSnapshot:{data:null,status:"success"}}},h={list:Object(o.a)({prop:"list",func:l.a.list}),delete:Object(o.a)({prop:"delete",func:l.a.delete}),update:Object(o.a)({prop:"update",func:l.a.update}),getUsersSnapshot:Object(o.a)({prop:"getUsersSnapshot",func:l.a.getUsersSnapshot}),filterUsers:Object(o.a)({prop:"filterUsers",func:l.a.filterUsers})}},2597:function(e,t,r){"use strict";r.r(t),r.d(t,"mutations",(function(){return R})),r.d(t,"getters",(function(){return C})),r.d(t,"state",(function(){return F})),r.d(t,"actions",(function(){return M}));r(32),r(24),r(166);var n=r(43),c=(r(49),r(53),r(54),r(25),r(22),r(15),r(58),r(29)),o=(r(12),r(0)),l=r(10),d=r(1360),f=r(428),m=r(1),v=r(13),h=r(9),O=r(16),w=r(21),y=r(73),x=r.n(y),j=r(11);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}x.a.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:80,ROUNDING_MODE:x.a.ROUND_DOWN});var S={"0xcc933a862fc15379e441f2a16cb943d385a4695f":"0x3845badade8e6dff049820680d1f14bd3903a5d0","0x592daadc9ea7f56a81de1fd27a723bd407709c46":"0x3845badade8e6dff049820680d1f14bd3903a5d0","0xe03489d4e90b22c59c5e23d45dfd59fc0db8a025":"0x3845badade8e6dff049820680d1f14bd3903a5d0","0xc778417e063141139fce010982780140aa0cd5ab":"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2","0x9c3c9283d3e44854697cd22d3faa240cfb032889":"0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0","0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270":"0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0","0xbbba073c31bf03b8acf7c28ef0738decf3695683":"0x3845badade8e6dff049820680d1f14bd3903a5d0"},R=P(P({},m.c),{},{addLandMultiplier:function(e,t){j.default.set(e.landMultiplier.data,t.layer,t.multiplier)}}),C=m.b,F=function(){return{stake:{data:null,status:"success"},claim:{data:null,status:"success"},withdraw:{data:null,status:"success"},claimAndWithdraw:{data:null,status:"success"},approve:{data:null,status:"success"},liquidityPools:{data:null,status:"success"},selectedLP:{data:null,status:"success"},selectedLPId:{data:null,status:"success"},landMultiplier:{data:{},status:"success"},poolTransactions:{data:null,status:"success"}}},L=function(address){return S[address.toLowerCase()]||address},E=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.TokenUsdValue(t);case 3:return r=e.sent,e.abrupt("return",r||0);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,d,f,m,v,h,O,w,y,j,k,P,S=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S.length>1&&void 0!==S[1]&&S[1],e.prev=1,!r){e.next=6;break}return e.next=5,E(L(t.options.address));case 5:return e.abrupt("return",e.sent);case 6:return e.t0=L,e.next=9,t.methods.token0().call();case 9:return e.t1=e.sent,e.t2=(0,e.t0)(e.t1),e.t3=L,e.next=14,t.methods.token1().call();case 14:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4),n=[e.t2,e.t5],e.next=19,Promise.all(n);case 19:return o=e.sent,l=Object(c.a)(o,2),d=l[0],f=l[1],e.t6=t.methods.getReserves().call()||[],e.t7=E(d),e.t8=E(f),e.t9=A,e.next=29,t.methods.totalSupply().call();case 29:if(e.t10=e.sent,e.t10){e.next=32;break}e.t10=0;case 32:return e.t11=e.t10,e.t12=(0,e.t9)(e.t11,!1),n=[e.t6,e.t7,e.t8,e.t12],e.next=37,Promise.all(n);case 37:return m=e.sent,v=Object(c.a)(m,4),h=v[0],O=v[1],w=v[2],y=v[3],j=new x.a(O).times(w).sqrt(),k=A(new x.a(h[0]).times(h[1]).sqrt(),!1),P=new x.a(j).times(k).div(y).times(2),e.abrupt("return",P);case 49:return e.prev=49,e.t13=e.catch(1),e.abrupt("return",new x.a(0));case 52:case"end":return e.stop()}}),e,null,[[1,49]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new x.a(e).div(new x.a(10).pow(18));return t&&(n=r?n.toFormat(r):n.toFormat(),n=parseFloat(n)?n:0),n},T=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,d,f,m,v,h,O,w,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.methods.periodFinish?"periodFinish":"getFinish",o="rewardRate","getFinish"!==r){e.next=13;break}return e.next=5,Promise.all([t.methods.finish1().call(),t.methods.finish2().call()]);case 5:l=e.sent,d=Object(c.a)(l,2),f=d[0],m=d[1],v=Math.floor(Date.now()/1e3),o="rate1",n=f,v>f&&v<m&&(o="rate2",n=m);case 13:return e.next=15,Promise.all([n||t.methods[r]().call(),t.methods[o]().call()]);case 15:return h=e.sent,O=Object(c.a)(h,2),w=O[0],y=O[1],e.abrupt("return",{finish:w,hasFinished:!!w&&w<Math.floor(Date.now()/1e3),rewardRate:y});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var r,n,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:604800,n=A(t||0,!1),e.abrupt("return",n.times(r).round(0,x.a.ROUND_UP).toFormat());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,r,n,c){var o,l,d,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=A(t||0,!1),l=31449600,d=A(c,!1),e.next=5,E(L(n));case 5:return f=e.sent,m=o.times(f).times(l).div(d.times(r)).times(100),e.abrupt("return",m.isFinite()?m.toFormat(18):0);case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,c){return e.apply(this,arguments)}}(),U=function(e){var t={0:1,1:1.1,2:1.15,50:1.25,200:1.4,1e3:1.6},r=t[0];return Object.keys(t).forEach((function(n){e>=n&&(r=t[n])})),r},I=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,c,slot,o,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:2,e.prev=1,e.next=4,Object(w.h)(n);case 4:return c=e.sent,e.next=7,c.utils.soliditySha3(c.utils.toBN(t).toString(),{type:"uint256",value:"65"});case 7:return slot=e.sent,e.next=10,c.eth.getStorageAt(r,slot);case 10:return o=e.sent,e.abrupt("return",parseInt(c.utils.hexToNumberString(o)||"0"));case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,r){return e.apply(this,arguments)}}(),M={loadContractByLayer:function(e,t){return Object(w.i)(t.contractName,t.layer,!0,t.biconomy)},getWeb3ByLayer:function(e,t){return Object(w.h)(t)},getLiquidityPools:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var l,f,h,O,y,x,j,k,S,R,C,i,F,L,E,U,M,V,W,G,_,H,J,z,X,Z,K,Q,Y,$,ee,te,re,ae,ne,se,ce,oe,ie,ue;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=e.commit,f=e.dispatch,h=e.rootGetters,O=t.userData,y=void 0!==O&&O,x=t.poolId,j=void 0===x?null:x,k=Object(m.a)(l,"liquidityPools"),o.prev=3,o.next=6,d.a.findAll({addContracts:!0});case 6:if(o.t0=o.sent,o.t0){o.next=9;break}o.t0=[];case 9:S=o.t0,j&&(S=S.filter((function(e){return e.id===j}))),R=y?Object(w.b)(h):"",C=[],i=0;case 14:if(!(i<S.length)){o.next=69;break}if(!(U=P(P({},S[i]),{},{rewardType:S[i].rewardContract||"sand",layer:Object(w.d)(null===(F=S[i].contract)||void 0===F?void 0:F.chainId),singleTokenLP:"sand"===(null===(L=S[i].lpContract)||void 0===L||null===(E=L.name)||void 0===E?void 0:E.toLowerCase()),totalDeposits:0,totalPoolRewards:0,periodFinish:0,hasFinished:!1,apy:0,user:y?{earned:0,deposit:0,staked:0,lpBalance:0,share:0,allowance:0}:{}})).published){o.next=66;break}return o.next=19,Promise.all([f("loadContractByLayer",{contractName:U.contract,layer:U.layer}),f("loadContractByLayer",{contractName:U.lpContract,layer:U.layer}),f("loadContractByLayer",{contractName:U.rewardType,layer:U.layer}),U.singleTokenLP?f("loadContractByLayer",{contractName:U.campaignContract,layer:U.layer}):null]);case 19:if(M=o.sent,V=Object(c.a)(M,4),W=V[0],G=V[1],_=V[2],H=V[3],!(W&&G&&_)){o.next=65;break}return o.next=28,T(H||W);case 28:return J=o.sent,o.next=31,Promise.all([W.methods.totalSupply().call(),N(G,U.singleTokenLP),B(J.rewardRate),!!W.methods.antiCompound&&W.methods.antiCompound().call()]);case 31:return z=o.sent,X=Object(c.a)(z,4),Z=X[0],K=X[1],Q=X[2],Y=X[3],U.totalDeposits=A(Z||0,!1).times(K).toFormat(18),U.periodFinish=J.finish,U.hasFinished=J.hasFinished,U.totalPoolRewards=Q,o.next=43,D(J.rewardRate,K,_.options.address,Z);case 43:if(U.apy=o.sent,U.antiCompound=Y,!y){o.next=65;break}return o.next=48,Promise.all([W.methods.earned(R).call(),W.methods.contributionOf(R).call(),W.methods.totalContributions().call(),W.methods.balanceOf(R).call(),G.methods.balanceOf(R).call(),G.methods.allowance(R,W.options.address).call(),Y&&"0"!==Y?I(R,W.options.address):0]);case 48:$=o.sent,ee=Object(c.a)($,7),te=ee[0],re=ee[1],ae=ee[2],ne=ee[3],se=ee[4],ce=ee[5],oe=ee[6],U.user.earned=A(te||0),U.user.deposit=A(re||0),U.user.depositUsd=A(re||0,!1).times(K).toFormat(18),U.user.staked=A(ne||0),U.user.lpBalance=A(se||0),U.user.share=(le=ae,de=void 0,pe=void 0,be=void 0,de=A(re||0,!1),pe=A(le||0,!1),be=de.div(pe).times(100),pe.isZero()?0:be.toFormat(18)),U.user.allowance=A(ce||0),U.user.lastClaim=oe;case 65:C.push(U);case 66:i++,o.next=14;break;case 69:j&&C[0]&&(ie=Object(n.a)(r.state.staking.liquidityPools.data||[]),ue=ie.findIndex((function(e){return e.id===j})),ie[-1===ue?0:ue]=C[0],Object(m.a)(l,"selectedLP").success(C[0]),C=ie),k.success(C),o.next=78;break;case 73:throw o.prev=73,o.t1=o.catch(3),k.error(Object(m.d)(o.t1)),Object(v.d)({title:o.t1}),o.t1;case 78:case"end":return o.stop()}var le,de,pe,be}),o,null,[[3,73]])})))()},refreshPoolAllowance:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,l,d,f,h,O,y,x,j,k,P,S,R,C;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.commit,o=e.dispatch,l=e.rootGetters,d=t.pool,f=t.callbackSuccess,h=void 0===f?null:f,O=t.callbackError,y=void 0===O?null:O,r.prev=2,x=Object(m.a)(n,"selectedLP"),j=Object(w.b)(l),d){r.next=7;break}throw new Error("Pool not found");case 7:return r.next=9,Promise.all([o("loadContractByLayer",{contractName:d.contract,layer:d.layer}),o("loadContractByLayer",{contractName:d.lpContract,layer:d.layer})]);case 9:if(k=r.sent,P=Object(c.a)(k,2),S=P[0],(R=P[1])&&S){r.next=15;break}throw new Error("Error loading pool contract");case 15:return r.next=17,R.methods.allowance(j,S.options.address).call();case 17:C=r.sent,d.allowance=A(C||0)||d.allowance,x.success(d),h&&h(d.allowance),r.next=28;break;case 23:throw r.prev=23,r.t0=r.catch(2),Object(v.d)({title:r.t0}),y&&y(r.t0),r.t0;case 28:case"end":return r.stop()}}),r,null,[[2,23]])})))()},stake:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,c,o,l,d,f,m,v,h,O,w,y,j;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,c=t.pool,o=t.amount,l=t.layer,d=void 0===l?2:l,f=t.callbackSuccess,m=void 0===f?null:f,v=t.callbackError,h=void 0===v?null:v,O=t.forward,w=void 0!==O&&O,y=t.gasless,j=void 0!==y&&y,r.prev=2,r.next=5,n("biconomy/callBiconomyTx",{stateName:"stake",method:"stake",params:[new x.a(o).times(new x.a(10).pow(18)).toString()],sendParams:{},contractName:c,layer:d,callbackSuccess:m,callbackError:h,forward:w,gasless:j},{root:!0});case 5:r.next=10;break;case 7:throw r.prev=7,r.t0=r.catch(2),r.t0;case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},claim:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,c,o,l,d,f,m,v,h,O,w,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,c=t.pool,o=t.layer,l=void 0===o?2:o,d=t.callbackSuccess,f=void 0===d?null:d,m=t.callbackError,v=void 0===m?null:m,h=t.forward,O=void 0!==h&&h,w=t.gasless,y=void 0!==w&&w,r.prev=2,r.next=5,n("biconomy/callBiconomyTx",{stateName:"claim",method:"getReward",params:[],sendParams:{},contractName:c,layer:l,callbackSuccess:f,callbackError:v,forward:O,gasless:y},{root:!0});case 5:r.next=10;break;case 7:throw r.prev=7,r.t0=r.catch(2),r.t0;case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},withdraw:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,c,o,l,d,f,m,v,h,O,w,y,j,k;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,c=t.pool,o=t.amount,l=t.layer,d=void 0===l?2:l,f=t.callbackSuccess,m=void 0===f?null:f,v=t.callbackError,h=void 0===v?null:v,O=t.forward,w=void 0!==O&&O,y=t.gasless,j=void 0!==y&&y,r.prev=2,k=o.replaceAll(",",""),r.next=6,n("biconomy/callBiconomyTx",{stateName:"withdraw",method:"withdraw",params:[new x.a(k).times(new x.a(10).pow(18)).toString()],sendParams:{},contractName:c,layer:d,callbackSuccess:m,callbackError:h,forward:w,gasless:j},{root:!0});case 6:r.next=11;break;case 8:throw r.prev=8,r.t0=r.catch(2),r.t0;case 11:case"end":return r.stop()}}),r,null,[[2,8]])})))()},claimAndWithdraw:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,c,o,l,d,f,m,v,h,O,w,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,c=t.pool,o=t.layer,l=void 0===o?2:o,d=t.callbackSuccess,f=void 0===d?null:d,m=t.callbackError,v=void 0===m?null:m,h=t.forward,O=void 0!==h&&h,w=t.gasless,y=void 0!==w&&w,r.prev=2,r.next=5,n("biconomy/callBiconomyTx",{stateName:"claimAndWithdraw",method:"exit",params:[],sendParams:{},contractName:c,layer:l,callbackSuccess:f,callbackError:v,forward:O,gasless:y},{root:!0});case 5:r.next=10;break;case 7:throw r.prev=7,r.t0=r.catch(2),r.t0;case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},approve:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,c,o,l,d,f,h,y,x,j,k,P,S,R,C,F,L,E,N,A,T,B;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,c=e.dispatch,o=e.rootGetters,l=e.store,d=t.pool,f=t.lpToken,h=t.layer,y=void 0===h?2:h,x=t.callbackSuccess,j=void 0===x?null:x,k=t.callbackError,P=void 0===k?null:k,S=t.forward,R=void 0!==S&&S,C=t.gasless,F=void 0!==C&&C,L=t.canForward,E=void 0!==L&&L,N=Object(m.a)(n,"approve"),r.prev=3,A=Object(w.b)(o),r.next=7,Object(O.m)();case 7:return r.next=9,Object(w.l)(y,A,(function(e){return Object(w.k)(l,e)}));case 9:if(!E||R){r.next=16;break}return r.next=12,Object(w.g)(["matic"],A,"current");case 12:if((T=r.sent).matic&&"-"!==T.matic){r.next=16;break}return Object(v.d)({title:"Not enough MATIC, you can pay gas fees on SAND going to Chain Settings"}),r.abrupt("return");case 16:return r.next=18,c("loadContractByLayer",{contractName:d,layer:"current"});case 18:if(B=r.sent){r.next=21;break}throw new Error("Error loading pool contract");case 21:return r.next=23,c("biconomy/callBiconomyTx",{stateName:"approve",method:"approve",params:[B.options.address,O.i],sendParams:{},contractName:f,layer:y,callbackSuccess:j,callbackError:P,forward:R,gasless:F,skipSwitch:!0},{root:!0});case 23:r.next=30;break;case 25:r.prev=25,r.t0=r.catch(3),P&&P(r.t0),N.error(Object(m.d)(r.t0)),Object(v.d)({title:r.t0});case 30:case"end":return r.stop()}}),r,null,[[3,25]])})))()},getPoolTransactions:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var o,l,d,f,y,j,k,P,S,R,C,F,L,E,N,T,i,B,D,U,I,M,V,W,G,_,H,J,z,X;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.commit,l=e.dispatch,d=e.rootGetters,f=t.pool,y=t.layer,j=void 0===y?2:y,k=Object(m.a)(o,"poolTransactions"),r.prev=3,k.loading(0),P=Object(w.b)(d),S=[l("loadContractByLayer",{contractName:f,layer:j}),l("getWeb3ByLayer",j)],r.next=9,Promise.all(S);case 9:if(R=r.sent,C=Object(c.a)(R,2),F=C[0],L=C[1],F){r.next=15;break}throw new Error("Error loading pool contract");case 15:if(L){r.next=17;break}throw new Error("Error loading web3");case 17:return E=1e3,r.next=20,L.eth.getBlockNumber();case 20:N=r.sent,T=[],i=0;case 23:if(!(i<h.g&&N>0)){r.next=37;break}return B=N-E>0?N-E:0,r.t0=T.push,r.t1=T,r.t2=n.a,r.next=30,F.getPastEvents("allEvents",{fromBlock:B,toBlock:N}).catch((function(){return[]}));case 30:r.t3=r.sent,r.t4=(0,r.t2)(r.t3),r.t0.apply.call(r.t0,r.t1,r.t4),N-=E;case 34:i+=E,r.next=23;break;case 37:D=[],U=0;case 39:if(!(U<T.length)){r.next=67;break}if(V=T[U],!(W=(null===(I=V.returnValues)||void 0===I?void 0:I.user)||(null===(M=V.returnValues)||void 0===M?void 0:M.account))||W.toLowerCase()!=P.toLowerCase()){r.next=64;break}if(V.timestamp||V.transactionFee){r.next=62;break}return r.prev=44,G=[L.eth.getTransaction(V.transactionHash),L.eth.getTransactionReceipt(V.transactionHash),L.eth.getBlock(V.blockNumber)],r.next=48,Promise.all(G);case 48:_=r.sent,H=Object(c.a)(_,3),J=H[0],z=H[1],X=H[2],V.transactionFee=J&&z?new x.a(Object(O.e)(J.gasPrice)).times(z.gasUsed).toFormat():0,V.timestamp=X?X.timestamp:0,r.next=62;break;case 57:r.prev=57,r.t5=r.catch(44),Object(v.d)({title:r.t5}),V.transactionFee=0,V.timestamp=0;case 62:V.amount=A(V.returnValues.amount||V.returnValues.reward||V.returnValues.stakeAmount||V.returnValues.rewardAmount||0),D.push(V);case 64:U++,r.next=39;break;case 67:k.success(D),r.next=75;break;case 70:throw r.prev=70,r.t6=r.catch(3),k.error(Object(m.d)(r.t6)),Object(v.d)({title:r.t6}),r.t6;case 75:case"end":return r.stop()}}),r,null,[[3,70],[44,57]])})))()},setSelectedLPId:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=e.commit,c=Object(m.a)(n,"selectedLPId"),r.prev=2,c.success(t),r.next=11;break;case 6:throw r.prev=6,r.t0=r.catch(2),c.error(Object(m.d)(r.t0)),Object(v.d)({title:r.t0}),r.t0;case 11:case"end":return r.stop()}}),r,null,[[2,6]])})))()},getUserLandMultiplier:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,c,o,l,d,f,m,h,O,y,x;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,c=e.dispatch,o=e.rootGetters,l=t.layer,d=void 0===l?1:l,f=t.pool,m=void 0===f?"":f,r.prev=2,h=Object(w.b)(o),O=0,r.next=7,c("loadContractByLayer",{contractName:m,layer:d});case 7:if(y=r.sent,!(y&&!!y.methods.multiplierOf)){r.next=20;break}return r.t0=parseInt,r.next=13,y.methods.multiplierOf(h).call();case 13:if(r.t1=r.sent,r.t1){r.next=16;break}r.t1=0;case 16:r.t2=r.t1,O=(0,r.t0)(r.t2),r.next=32;break;case 20:return r.next=22,c("loadContractByLayer",{contractName:"LandNew",layer:d});case 22:if(!(x=r.sent)){r.next=32;break}return r.t3=parseInt,r.next=27,x.methods.balanceOf(h).call();case 27:if(r.t4=r.sent,r.t4){r.next=30;break}r.t4=0;case 30:r.t5=r.t4,O=(0,r.t3)(r.t5);case 32:return r.abrupt("return",n("addLandMultiplier",{layer:d,multiplier:U(O)}));case 35:throw r.prev=35,r.t6=r.catch(2),Object(v.d)({title:r.t6}),r.t6;case 39:case"end":return r.stop()}}),r,null,[[2,35]])})))()}}}}]);
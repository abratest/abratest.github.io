(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{1202:function(e,t,r){var o=r(6).Buffer,n=r(170),c=r(398).AbiCoder,h=r(398).ParamType,d=new c((function(e,t){return!e.match(/^u?int/)||Array.isArray(t)||t&&"object"==typeof t&&"BN"===t.constructor.name?t:t.toString()}));function m(){}var f=function(){};f.prototype.encodeFunctionSignature=function(e){return("function"==typeof e||"object"==typeof e&&e)&&(e=n._jsonInterfaceMethodToString(e)),n.sha3(e).slice(0,10)},f.prototype.encodeEventSignature=function(e){return("function"==typeof e||"object"==typeof e&&e)&&(e=n._jsonInterfaceMethodToString(e)),n.sha3(e)},f.prototype.encodeParameter=function(e,param){return this.encodeParameters([e],[param])},f.prototype.encodeParameters=function(e,t){var r=this;return e=r.mapTypes(e),t=t.map((function(param,t){let o=e[t];if("object"==typeof o&&o.type&&(o=o.type),param=r.formatParam(o,param),"string"==typeof o&&o.includes("tuple")){const e=d._getCoder(h.from(o)),t=(e,param)=>{if("array"===e.name)return param.map(p=>t(d._getCoder(h.from(e.type.replace("[]",""))),p));e.coders.forEach((e,i)=>{"tuple"===e.name?t(e,param[i]):param[i]=r.formatParam(e.name,param[i])})};t(e,param)}return param})),d.encode(e,t)},f.prototype.mapTypes=function(e){var t=this,r=[];return e.forEach((function(e){if("object"==typeof e&&"function"===e.type&&(e=Object.assign({},e,{type:"bytes24"})),t.isSimplifiedStructFormat(e)){var o=Object.keys(e)[0];r.push(Object.assign(t.mapStructNameAndType(o),{components:t.mapStructToCoderFormat(e[o])}))}else r.push(e)})),r},f.prototype.isSimplifiedStructFormat=function(e){return"object"==typeof e&&void 0===e.components&&void 0===e.name},f.prototype.mapStructNameAndType=function(e){var t="tuple";return e.indexOf("[]")>-1&&(t="tuple[]",e=e.slice(0,-2)),{type:t,name:e}},f.prototype.mapStructToCoderFormat=function(e){var t=this,r=[];return Object.keys(e).forEach((function(o){"object"!=typeof e[o]?r.push({name:o,type:e[o]}):r.push(Object.assign(t.mapStructNameAndType(o),{components:t.mapStructToCoderFormat(e[o])}))})),r},f.prototype.formatParam=function(e,param){const t=new RegExp(/^bytes([0-9]*)$/),r=new RegExp(/^bytes([0-9]*)\[\]$/),c=new RegExp(/^(u?int)([0-9]*)$/),h=new RegExp(/^(u?int)([0-9]*)\[\]$/);if(n.isBN(param)||n.isBigNumber(param))return param.toString(10);if(e.match(r)||e.match(h))return param.map(p=>this.formatParam(e.replace("[]",""),p));let d=e.match(c);if(d){let e=parseInt(d[2]||"256");e/8<param.length&&(param=n.leftPad(param,e))}if(d=e.match(t),d){o.isBuffer(param)&&(param=n.toHex(param));let e=parseInt(d[1]);if(e){let t=2*e;"0x"===param.substring(0,2)&&(t+=2),param.length<t&&(param=n.rightPad(param,2*e))}param.length%2==1&&(param="0x0"+param.substring(2))}return param},f.prototype.encodeFunctionCall=function(e,t){return this.encodeFunctionSignature(e)+this.encodeParameters(e.inputs,t).replace("0x","")},f.prototype.decodeParameter=function(e,t){return this.decodeParameters([e],t)[0]},f.prototype.decodeParameters=function(e,t){return this.decodeParametersWith(e,t,!1)},f.prototype.decodeParametersWith=function(e,t,r){if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var o=d.decode(this.mapTypes(e),"0x"+t.replace(/0x/i,""),r),n=new m;return n.__length__=0,e.forEach((function(output,i){var e=o[n.__length__];e="0x"===e?null:e,n[i]=e,("function"==typeof output||output&&"object"==typeof output)&&output.name&&(n[output.name]=e),n.__length__++})),n},f.prototype.decodeLog=function(e,data,t){var r=this;t=Array.isArray(t)?t:[t],data=data||"";var o=[],n=[],c=0;e.forEach((function(input,i){input.indexed?(n[i]=["bool","int","uint","address","fixed","ufixed"].find((function(e){return-1!==input.type.indexOf(e)}))?r.decodeParameter(input.type,t[c]):t[c],c++):o[i]=input}));var h=data,d=h?this.decodeParametersWith(o,h,!0):[],f=new m;return f.__length__=0,e.forEach((function(e,i){f[i]="string"===e.type?"":null,void 0!==d[i]&&(f[i]=d[i]),void 0!==n[i]&&(f[i]=n[i]),e.name&&(f[e.name]=f[i]),f.__length__++})),f};var l=new f;e.exports=l},1776:function(e,t,r){"use strict";(function(t,o){var n=r(1777),c=r(981),h=r(982),d=r(231),m=r(984),f=r(1809),l=r(460),y=r(195),{TransactionFactory:v}=r(700),x=r(461).default,w=r(461).Hardfork,P=r(977),k=function(e){return null==e},_=function(e){return null!=e},I=function(){var e=this;n.packageInit(this,arguments),delete this.BatchRequest,delete this.extend;var t=[new c({name:"getNetworkId",call:"net_version",params:0,outputFormatter:parseInt}),new c({name:"getChainId",call:"eth_chainId",params:0,outputFormatter:l.hexToNumber}),new c({name:"getGasPrice",call:"eth_gasPrice",params:0}),new c({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[function(address){if(l.isAddress(address))return address;throw new Error("Address "+address+' is not a valid address to get the "transactionCount".')},function(){return"latest"}]}),new c({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(e){return e?l.toHex(e):"latest"},function(){return!1}]})];this._ethereumCall={},t.forEach(t=>{t.attachToObject(e._ethereumCall),t.setRequestManager(e._requestManager)}),this.wallet=new S(this)};function C(e,t){return new Promise((r,o)=>{try{(void 0===t.type||t.type<"0x2")&&void 0!==t.gasPrice?r({gasPrice:t.gasPrice}):Promise.all([e._ethereumCall.getBlockByNumber(),e._ethereumCall.getGasPrice()]).then(e=>{const[o,n]=e;if("0x2"===t.type&&o&&o.baseFeePerGas){let e,n;t.gasPrice?(e=t.gasPrice,n=t.gasPrice,delete t.gasPrice):(e=t.maxPriorityFeePerGas||"0x9502F900",n=t.maxFeePerGas||l.toHex(l.toBN(o.baseFeePerGas).mul(l.toBN(2)).add(l.toBN(e)))),r({maxFeePerGas:n,maxPriorityFeePerGas:e})}else{if(t.maxPriorityFeePerGas||t.maxFeePerGas)throw Error("Network doesn't support eip-1559");r({gasPrice:n})}})}catch(e){o(e)}})}function S(e){this._accounts=e,this.length=0,this.defaultKeyName="web3js_wallet"}I.prototype._addAccountFunctions=function(e){var t=this;return e.signTransaction=function(r,o){return t.signTransaction(r,e.privateKey,o)},e.sign=function(data){return t.sign(data,e.privateKey)},e.encrypt=function(r,o){return t.encrypt(e.privateKey,r,o)},e},I.prototype.create=function(e){return this._addAccountFunctions(h.create(e||l.randomHex(32)))},I.prototype.privateKeyToAccount=function(e,t){if(e.startsWith("0x")||(e="0x"+e),!t&&66!==e.length)throw new Error("Private key must be 32 bytes long");return this._addAccountFunctions(h.fromPrivate(e))},I.prototype.signTransaction=function(e,t,r){var n=!1,c={},h=!(!e||!(e.chain&&e.hardfork||e.common));if(r=r||function(){},!e)return n=new Error("No transaction object given!"),r(n),Promise.reject(n);if(_(e.common)&&k(e.common.customChain))return n=new Error("If tx.common is provided it must have tx.common.customChain"),r(n),Promise.reject(n);if(_(e.common)&&k(e.common.customChain.chainId))return n=new Error("If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),r(n),Promise.reject(n);if(_(e.common)&&_(e.common.customChain.chainId)&&_(e.chainId)&&e.chainId!==e.common.customChain.chainId)return n=new Error("Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),r(n),Promise.reject(n);function d(e){const n=function(e){if(e.common&&e.chain&&e.hardfork)return new Error("Please provide the @ethereumjs/common object or the chain and hardfork property but not all together.");if(e.chain&&!e.hardfork||e.hardfork&&!e.chain)return new Error('When specifying chain and hardfork, both values must be defined. Received "chain": '+e.chain+', "hardfork": '+e.hardfork);if(!(e.gas||e.gasLimit||e.maxPriorityFeePerGas||e.maxFeePerGas))return new Error('"gas" is missing');if(e.gas&&e.gasPrice){if(e.gas<0||e.gasPrice<0)return new Error("Gas or gasPrice is lower than 0")}else if(e.maxPriorityFeePerGas<0||e.maxFeePerGas<0)return new Error("maxPriorityFeePerGas or maxFeePerGas is lower than 0");if(e.nonce<0||e.chainId<0)return new Error("Nonce or chainId is lower than 0");return}(e);if(n)return r(n),Promise.reject(n);try{var d=y.formatters.inputCallFormatter(Object.assign({},e));d.data=d.data||"0x",d.value=d.value||"0x",d.gasLimit=d.gasLimit||d.gas,"0x1"===d.type&&void 0===d.accessList&&(d.accessList=[]),h?(d.common&&(c.common=x.forCustomChain(d.common.baseChain||"mainnet",{name:d.common.customChain.name||"custom-network",networkId:d.common.customChain.networkId,chainId:d.common.customChain.chainId},d.common.hardfork||w.London),delete d.common),d.chain&&(c.chain=d.chain,delete d.chain),d.hardfork&&(c.hardfork=d.hardfork,delete d.hardfork)):(c.common=x.forCustomChain("mainnet",{name:"custom-network",networkId:d.networkId,chainId:d.chainId},d.hardfork||w.London),delete d.networkId),t.startsWith("0x")&&(t=t.substring(2));var m=v.fromTxData(d,c).sign(o.from(t,"hex")),f=m.validate(!0);if(f.length>0){let e="Signer Error: ";for(const t of f)e+=`${e} ${t}.`;throw new Error(e)}var P="0x"+m.serialize().toString("hex"),k=l.keccak256(P),_={messageHash:"0x"+o.from(m.getMessageToSign(!0)).toString("hex"),v:"0x"+m.v.toString("hex"),r:"0x"+m.r.toString("hex"),s:"0x"+m.s.toString("hex"),rawTransaction:P,transactionHash:k};return r(null,_),_}catch(e){return r(e),Promise.reject(e)}}return e.type=function(e){const t=void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas;let r;void 0!==e.type?r=l.toHex(e.type):void 0===e.type&&t&&(r="0x2");if(void 0!==e.gasPrice&&("0x2"===r||t))throw Error("eip-1559 transactions don't support gasPrice");if(("0x1"===r||"0x0"===r)&&t)throw Error("pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas");t||e.common&&e.common.hardfork&&e.common.hardfork.toLowerCase()===w.London||e.hardfork&&e.hardfork.toLowerCase()===w.London?r="0x2":(e.accessList||e.common&&e.common.hardfork&&e.common.hardfork.toLowerCase()===w.Berlin||e.hardfork&&e.hardfork.toLowerCase()===w.Berlin)&&(r="0x1");return r}(e),void 0!==e.nonce&&void 0!==e.chainId&&(void 0!==e.gasPrice||void 0!==e.maxFeePerGas&&void 0!==e.maxPriorityFeePerGas)&&h?Promise.resolve(d(e)):Promise.all([k(e.common)||k(e.common.customChain.chainId)?k(e.chainId)?this._ethereumCall.getChainId():e.chainId:void 0,k(e.nonce)?this._ethereumCall.getTransactionCount(this.privateKeyToAccount(t).address):e.nonce,k(h)?this._ethereumCall.getNetworkId():1,C(this,e)]).then((function(t){const[r,o,n,c]=t;if(k(r)&&k(e.common)&&k(e.common.customChain.chainId)||k(o)||k(n)||k(c))throw new Error('One of the values "chainId", "networkId", "gasPrice", or "nonce" couldn\'t be fetched: '+JSON.stringify(t));return d({...e,...k(e.common)||k(e.common.customChain.chainId)?{chainId:r}:{},nonce:o,networkId:n,...c})}))},I.prototype.recoverTransaction=function(e,t={}){const data=o.from(e.slice(2),"hex"),r=v.fromSerializedData(data);return l.toChecksumAddress(r.getSenderAddress().toString("hex"))},I.prototype.hashMessage=function(data){var e=l.isHexStrict(data)?data:l.utf8ToHex(data),t=l.hexToBytes(e),r=o.from(t),n="Ethereum Signed Message:\n"+t.length,c=o.from(n),h=o.concat([c,r]);return P.bufferToHex(P.keccak256(h))},I.prototype.sign=function(data,e){if(e.startsWith("0x")||(e="0x"+e),66!==e.length)throw new Error("Private key must be 32 bytes long");var t=this.hashMessage(data),r=h.sign(t,e),o=h.decodeSignature(r);return{message:data,messageHash:t,v:o[0],r:o[1],s:o[2],signature:r}},I.prototype.recover=function(e,t,r){var o=[].slice.apply(arguments);return e&&"object"==typeof e?this.recover(e.messageHash,h.encodeSignature([e.v,e.r,e.s]),!0):(r||(e=this.hashMessage(e)),o.length>=4?(r="boolean"==typeof(r=o.slice(-1)[0])&&!!r,this.recover(e,h.encodeSignature(o.slice(1,4)),r)):h.recover(e,t))},I.prototype.decrypt=function(e,t,r){if("string"!=typeof t)throw new Error("No password given.");var n,c,h=e&&"object"==typeof e?e:JSON.parse(r?e.toLowerCase():e);if(3!==h.version)throw new Error("Not a valid V3 wallet");if("scrypt"===h.crypto.kdf)c=h.crypto.kdfparams,n=m.syncScrypt(o.from(t),o.from(c.salt,"hex"),c.n,c.r,c.p,c.dklen);else{if("pbkdf2"!==h.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(c=h.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");n=d.pbkdf2Sync(o.from(t),o.from(c.salt,"hex"),c.c,c.dklen,"sha256")}var f=o.from(h.crypto.ciphertext,"hex");if(l.sha3(o.from([...n.slice(16,32),...f])).replace("0x","")!==h.crypto.mac)throw new Error("Key derivation failed - possibly wrong password");var y=d.createDecipheriv(h.crypto.cipher,n.slice(0,16),o.from(h.crypto.cipherparams.iv,"hex")),v="0x"+o.from([...y.update(f),...y.final()]).toString("hex");return this.privateKeyToAccount(v,!0)},I.prototype.encrypt=function(e,t,r){var n,c=this.privateKeyToAccount(e,!0),h=(r=r||{}).salt||d.randomBytes(32),y=r.iv||d.randomBytes(16),v=r.kdf||"scrypt",x={dklen:r.dklen||32,salt:h.toString("hex")};if("pbkdf2"===v)x.c=r.c||262144,x.prf="hmac-sha256",n=d.pbkdf2Sync(o.from(t),o.from(x.salt,"hex"),x.c,x.dklen,"sha256");else{if("scrypt"!==v)throw new Error("Unsupported kdf");x.n=r.n||8192,x.r=r.r||8,x.p=r.p||1,n=m.syncScrypt(o.from(t),o.from(x.salt,"hex"),x.n,x.r,x.p,x.dklen)}var w=d.createCipheriv(r.cipher||"aes-128-ctr",n.slice(0,16),y);if(!w)throw new Error("Unsupported cipher");var P=o.from([...w.update(o.from(c.privateKey.replace("0x",""),"hex")),...w.final()]),k=l.sha3(o.from([...n.slice(16,32),...P])).replace("0x","");return{version:3,id:f.v4({random:r.uuid||d.randomBytes(16)}),address:c.address.toLowerCase().replace("0x",""),crypto:{ciphertext:P.toString("hex"),cipherparams:{iv:y.toString("hex")},cipher:r.cipher||"aes-128-ctr",kdf:v,kdfparams:x,mac:k.toString("hex")}}},S.prototype._findSafeIndex=function(e){return e=e||0,this.hasOwnProperty(e)?this._findSafeIndex(e+1):e},S.prototype._currentIndexes=function(){return Object.keys(this).map((function(e){return parseInt(e)})).filter((function(e){return e<9e20}))},S.prototype.create=function(e,t){for(var i=0;i<e;++i)this.add(this._accounts.create(t).privateKey);return this},S.prototype.add=function(e){return"string"==typeof e&&(e=this._accounts.privateKeyToAccount(e)),this[e.address]?this[e.address]:((e=this._accounts.privateKeyToAccount(e.privateKey)).index=this._findSafeIndex(),this[e.index]=e,this[e.address]=e,this[e.address.toLowerCase()]=e,this.length++,e)},S.prototype.remove=function(e){var t=this[e];return!(!t||!t.address)&&(this[t.address].privateKey=null,delete this[t.address],this[t.address.toLowerCase()].privateKey=null,delete this[t.address.toLowerCase()],this[t.index].privateKey=null,delete this[t.index],this.length--,!0)},S.prototype.clear=function(){var e=this;return this._currentIndexes().forEach((function(t){e.remove(t)})),this},S.prototype.encrypt=function(e,t){var r=this;return this._currentIndexes().map((function(o){return r[o].encrypt(e,t)}))},S.prototype.decrypt=function(e,t){var r=this;return e.forEach((function(e){var o=r._accounts.decrypt(e,t);if(!o)throw new Error("Couldn't decrypt accounts. Password wrong?");r.add(o)})),this},S.prototype.save=function(e,t){return localStorage.setItem(t||this.defaultKeyName,JSON.stringify(this.encrypt(e))),!0},S.prototype.load=function(e,t){var r=localStorage.getItem(t||this.defaultKeyName);if(r)try{r=JSON.parse(r)}catch(e){}return this.decrypt(r||[],e)},function(e){var t;try{t=self[e];var r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage")||(delete S.prototype.save,delete S.prototype.load),e.exports=I}).call(this,r(37),r(6).Buffer)}}]);
/*!For license information please see LICENSES*/(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{2156:function(t,e,n){t.exports=n(2157)},2157:function(t,e,n){t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s="./widget/index.ts")}({"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./widget/styles/index.scss":function(t,e,n){(t.exports=n("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([t.i,'.matic-widget {\n  position: fixed;\n  transition: transform 1s;\n  background-color: #fff;\n  z-index: 10000;\n  height: 100%;\n  width: 100%;\n  max-height: 100%;\n  max-width: 100%; }\n  .matic-widget.mobile-position {\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0; }\n  @media (min-width: 576px) {\n    .matic-widget {\n      max-height: 90%;\n      max-width: 80%;\n      border: 1px solid #f1eded;\n      border-radius: 20px; } }\n  .matic-widget--slide-down {\n    transform: translateY(1000px);\n    border-radius: 20px; }\n  .matic-widget--slide-up {\n    transform: translateY(0); }\n  .matic-widget--hide {\n    display: none; }\n  .matic-widget__iframe {\n    width: 100%;\n    height: 100%;\n    border: none; }\n  .matic-widget--center {\n    left: 0;\n    right: 0;\n    margin-left: auto;\n    margin-right: auto;\n    top: 0;\n    bottom: 0;\n    margin-top: auto;\n    margin-bottom: auto; }\n  .matic-widget--bottom-right {\n    bottom: 5px;\n    right: 5px; }\n  .matic-widget--bottom-left {\n    bottom: 5px;\n    left: 5px; }\n  .matic-widget__overlay::before {\n    content: "";\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: 20px;\n    animation: 0.3s ease 1.87s forwards fade-in; }\n  .matic-widget__loading {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 20px; }\n\n@keyframes fade-in {\n  0% {\n    border-radius: 20px; }\n  80% {\n    border-radius: 20px; }\n  100% {\n    border-radius: 0; } }\n',""])},"./node_modules/css-loader/dist/runtime/api.js":function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var o=(d=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */"),r=n.sources.map((function(source){return"/*# sourceURL="+n.sourceRoot+source+" */"}));return[content].concat(r).concat([o]).join("\n")}var d;return[content].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+content+"}":content})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(i=0;i<t.length;i++){var d=t[i];null!=d[0]&&o[d[0]]||(n&&!d[2]?d[2]=n:n&&(d[2]="("+d[2]+") and ("+n+")"),e.push(d))}},e}},"./node_modules/style-loader/lib/addStyles.js":function(t,e,n){var o,r,d={},c=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),l=function(t,e){return e?e.querySelector(t):document.querySelector(t)},f=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=l.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),m=null,h=0,v=[],w=n("./node_modules/style-loader/lib/urls.js");function y(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=d[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(S(n.parts[r],e))}else{var c=[];for(r=0;r<n.parts.length;r++)c.push(S(n.parts[r],e));d[n.id]={id:n.id,refs:1,parts:c}}}}function x(t,e){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],d=e.base?r[0]+e.base:r[0],c={css:r[1],media:r[2],sourceMap:r[3]};o[d]?o[d].parts.push(c):n.push(o[d]={id:d,parts:[c]})}return n}function _(t,style){var e=f(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=v[v.length-1];if("top"===t.insertAt)n?n.nextSibling?e.insertBefore(style,n.nextSibling):e.appendChild(style):e.insertBefore(style,e.firstChild),v.push(style);else if("bottom"===t.insertAt)e.appendChild(style);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=f(t.insertAt.before,e);e.insertBefore(style,o)}}function E(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style);var t=v.indexOf(style);t>=0&&v.splice(t,1)}function j(t){var style=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var e=function(){0;return n.nc}();e&&(t.attrs.nonce=e)}return L(style,t.attrs),_(t,style),style}function L(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function S(t,e){var style,n,o,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var d=h++;style=m||(m=j(e)),n=M.bind(null,style,d,!1),o=M.bind(null,style,d,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(style=function(t){var link=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",L(link,t.attrs),_(t,link),link}(e),n=T.bind(null,style,e),o=function(){E(style),style.href&&URL.revokeObjectURL(style.href)}):(style=j(e),n=O.bind(null,style),o=function(){E(style)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=c()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=x(t,e);return y(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var r=n[i];(c=d[r.id]).refs--,o.push(c)}t&&y(x(t,e),e);for(i=0;i<o.length;i++){var c;if(0===(c=o[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete d[c.id]}}}};var C,A=(C=[],function(t,e){return C[t]=e,C.filter(Boolean).join("\n")});function M(style,t,e,n){var o=e?"":n.css;if(style.styleSheet)style.styleSheet.cssText=A(t,o);else{var r=document.createTextNode(o),d=style.childNodes;d[t]&&style.removeChild(d[t]),d.length?style.insertBefore(r,d[t]):style.appendChild(r)}}function O(style,t){var e=t.css,n=t.media;if(n&&style.setAttribute("media",n),style.styleSheet)style.styleSheet.cssText=e;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(e))}}function T(link,t,e){var n=e.css,o=e.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(n=w(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var d=new Blob([n],{type:"text/css"}),c=link.href;link.href=URL.createObjectURL(d),c&&URL.revokeObjectURL(c)}},"./node_modules/style-loader/lib/urls.js":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,d=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?t:(r=0===d.indexOf("//")?d:0===d.indexOf("/")?n+d:o+d.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},"./src/enums/widget_event.ts":function(t,e,n){"use strict";var o;n.r(e),n.d(e,"WIDGET_EVENT",(function(){return o})),function(t){t.close="close",t.burnInit="burnInit",t.burnComplete="burnComplete",t.exitInit="exitInit",t.exitError="exitError",t.exitComplete="exitComplete",t.confirmWithdrawInit="confirmWithdrawInit",t.confirmWithdrawComplete="confirmWithdrawComplete",t.confirmWithdrawError="confirmWithdrawError",t.load="load",t.approveInit="approveInit",t.approveComplete="approveComplete",t.approveError="approveError",t.depositInit="depositInit",t.depositComplete="depositComplete",t.depositError="depositError"}(o||(o={}))},"./widget/constants.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"appVersion",(function(){return o})),n.d(e,"defaultConfig",(function(){return r}));const o="1.3.0",r={autoShowTime:-1,height:618,newTabForMobile:!1,width:540,position:"",appName:"",relativePath:"",assetsFromWidgetServer:!0,overlay:!1,style:{},closable:!0,loading:{color:"#3e3e3e",background:"#f0f0f0","font-size":"24px","line-height":"28px"}}},"./widget/index.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"Widget",(function(){return l}));var o=n("./widget/constants.ts"),r=n("./src/enums/widget_event.ts"),d=(n("./widget/styles/index.scss"),n("./widget/utils/index.ts")),c=function(t,e,n,o){return new(n||(n=Promise))((function(r,d){function c(t){try{f(o.next(t))}catch(t){d(t)}}function l(t){try{f(o.throw(t))}catch(t){d(t)}}function f(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,l)}f((o=o.apply(t,e||[])).next())}))};class l{constructor(t){if(this._eventBus=new d.EventBus,this.isVisible=!1,this.loaderElem=document.createElement("div"),this.assetsLoaded=!1,!t.network)throw"{Matic Widget Error} : network is not specified. Please specify network type.";this._config=Object.assign(Object.assign({},o.defaultConfig),t)}assetsLoader(){const t=this._config;this.loaderElem.className="matic-widget matic-widget__loading",this.isMobileDevice()?this.loaderElem.classList.add("mobile-position"):(this.loaderElem.style.cssText=`height: ${t.height}px; width: ${t.width}px;`,this.loaderElem.classList.add("matic-widget--"+t.position));const e=t.loading;for(const t in e)this.loaderElem.style[t]=e[t];const n=document.createElement("div");n.innerHTML+="...loading",this.loaderElem.appendChild(n),document.body.appendChild(this.loaderElem)}loadAssets(t){return c(this,void 0,void 0,(function*(){const e=t.map(t=>Object(d.loadScript)(t));return Promise.all(e)}))}getAssets(){return c(this,void 0,void 0,(function*(){const t=l.assetsUrl+"manifest.js";return yield Object(d.loadScript)(t),polygonWidgetManifest}))}create(){return c(this,void 0,void 0,(function*(){const t=this._config;if(t.assetsFromWidgetServer){const t=(yield this.getAssets()).map(t=>`${l.assetsUrl}${t}`);yield this.loadAssets(t)}if(t.target){const e=document.querySelectorAll(t.target);if(0==e.length)throw"{Matic Widget Error} : invalid target supplied. Please provide a valid element selector.";e.forEach(t=>{t.onclick=()=>{this.show()}})}const e=document.createElement("div");this._el=e,e.className="matic-widget matic-widget--hide",this.isMobileDevice()?e.classList.add("mobile-position"):(e.style.cssText=`height:${t.height}px;width:${t.width}px;`,e.classList.add("matic-widget--"+t.position));const n=t.style;for(const t in n)e.style[t]=n[t];t.overlay&&(e.className+=" matic-widget__overlay");const o=document.createElement("matic-widget");this._widgetElem=o,o.className="matic-widget__iframe",o.setAttribute("appid",t.appName),o.setAttribute("page",t.page),o.setAttribute("amount",t.amount),o.setAttribute("network",t.network),this.isMobileDevice()?o.setAttribute("closable","true"):o.setAttribute("closable",t.closable),e.appendChild(o),document.body.appendChild(e),this._onMessageFromWidget=t=>{const e=t.detail;if(e)switch(this._eventBus.emit(e.name,e.payload),e.name){case r.WIDGET_EVENT.close:this.hide()}},o.addEventListener("message",this._onMessageFromWidget);const d=Number(t.autoShowTime);!isNaN(d)&&d>0&&setTimeout(()=>{this.show()},d),this.assetsLoaded=!0}))}show(){this.assetsLoaded||this.assetsLoader(),this.isVisible||(this._el.classList.add("matic-widget--slide-down"),this._el.classList.remove("matic-widget--hide"),setTimeout(()=>{Object(d.addAnimation)(this._el,"matic-widget--slide-up").then(t=>{this._el.classList.remove("matic-widget--slide-down"),this._eventBus.emit("show");const e=this.loaderElem;e&&document.body.contains(e)&&(document.body.removeChild(e),this.loaderElem=null)})},100),this.isVisible=!0)}hide(){this.isVisible&&Object(d.addAnimation)(this._el,"matic-widget--slide-down").then(t=>{this._eventBus.emit("hide"),this._el.classList.add("matic-widget--hide"),this.isVisible=!1})}withdrawExit(t){const e=this._widgetElem.shadowRoot,n=new CustomEvent("withdraw",{detail:t,bubbles:!0});e.dispatchEvent(n)}on(t,e){return this._eventBus.on(t,e),this}off(t,e){this._eventBus.off(t,e)}isMobileDevice(){return window.screen.width<576}destroy(){const t=this._el;if(!t)return;const e=t.querySelector("matic-widget");null==e||e.removeEventListener("message",this._onMessageFromWidget),document.body.removeChild(t)}}l.assetsUrl="https://wallet-asset.matic.network/widget/"},"./widget/styles/index.scss":function(t,e,n){var content=n("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./widget/styles/index.scss");"string"==typeof content&&(content=[[t.i,content,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(content,o);content.locals&&(t.exports=content.locals)},"./widget/utils/animate_css.ts":function(t,e,n){"use strict";function o(element,t){const e="string"==typeof element?document.querySelector(element):element;return new Promise(n=>{e.classList.add(t),e.addEventListener("transitionend",(function o(){e.classList.remove(t),e.removeEventListener("transitionend",o),n()}))})}n.r(e),n.d(e,"addAnimation",(function(){return o}))},"./widget/utils/event_bus.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"EventBus",(function(){return o}));class o{constructor(){this._events={}}on(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)}off(t,e){if(e){const n=this._events[t].findIndex(q=>q===e);n>=0&&this._events[t].splice(n,1)}else this._events[t]=null}emit(t,...e){const n=this._events[t];n&&n.forEach(t=>{t(e)})}}},"./widget/utils/index.ts":function(t,e,n){"use strict";n.r(e);var o=n("./widget/utils/event_bus.ts");n.d(e,"EventBus",(function(){return o.EventBus}));var r=n("./widget/utils/animate_css.ts");n.d(e,"addAnimation",(function(){return r.addAnimation}));var d=n("./widget/utils/remove_last_slash.ts");n.d(e,"removeLastSlash",(function(){return d.removeLastSlash}));var c=n("./widget/utils/load_script.ts");n.d(e,"loadScript",(function(){return c.loadScript}))},"./widget/utils/load_script.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"loadScript",(function(){return o}));const o=t=>{const script=document.createElement("script");return script.src=t,document.body.appendChild(script),new Promise((t,e)=>{script.onload=t,script.onerror=e})}},"./widget/utils/remove_last_slash.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"removeLastSlash",(function(){return o}));const o=t=>{const e=t.length-1;return"/"===t[e]&&(t=t.substr(e)),t}}})}}]);
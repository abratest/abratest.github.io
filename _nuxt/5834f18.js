(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1062:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;const o=n(2077),c=n(725),r=n(2098),d=n(2114),l=n(2125),k=n(315),h=e.env.LINK_API_URL||"https://www.walletlink.org",w=e.env.SDK_VERSION||n(2126).version||"unknown";class x{constructor(e){var t;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const n=e.linkAPIUrl||h;let c;c=e.uiConstructor?e.uiConstructor:e=>new r.WalletSDKUI(e),void 0===e.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this._eventListener=e.eventListener;const u=new URL(n),k=`${u.protocol}//${u.host}`;this._storage=new o.ScopedLocalStorage("-walletlink:"+k),this._storage.setItem("version",x.VERSION),this.walletExtension||(this._relayEventManager=new l.WalletSDKRelayEventManager,this._relay=new d.WalletSDKRelay({linkAPIUrl:n,version:w,darkMode:!!e.darkMode,uiConstructor:c,storage:this._storage,relayEventManager:this._relayEventManager,eventListener:this._eventListener}),this.setAppInfo(e.appName,e.appLogoUrl),this._relay.attachUI())}makeWeb3Provider(e="",t=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,t),n;const o=this._relay;if(!o||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||o.setConnectDisabled(!0),new c.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(o),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,eventListener:this._eventListener,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet})}setAppInfo(e,t){var n;this._appName=e||"DApp",this._appLogoUrl=t||(0,k.getFavicon)();const o=this.walletExtension;o?this.isCipherProvider(o)||o.setAppInfo(this._appName,this._appLogoUrl):null===(n=this._relay)||void 0===n||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const t=this.walletExtension;t?t.close():null===(e=this._relay)||void 0===e||e.resetAndReload()}get walletExtension(){var e;return null!==(e=window.coinbaseWalletExtension)&&void 0!==e?e:window.walletLinkExtension}isCipherProvider(e){return"boolean"==typeof e.isCipher&&e.isCipher}}t.CoinbaseWalletSDK=x,x.VERSION=w}).call(this,n(30))},1169:function(e,t,n){"use strict";(function(e){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QRCode=void 0;const c=n(74),r=n(551),d=o(n(2102));t.QRCode=t=>{const[svg,n]=(0,r.useState)("");return(0,r.useEffect)(()=>{var o,c;const r=new d.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(o=t.width)&&void 0!==o?o:256,height:null!==(c=t.height)&&void 0!==c?c:256,padding:0,image:t.image}),l=e.from(r.svg(),"utf8").toString("base64");n("data:image/svg+xml;base64,"+l)}),svg?(0,c.h)("img",{src:svg,alt:"QR Code"}):null}}).call(this,n(6).Buffer)},1170:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;const c=n(74),r=o(n(2103));t.Spinner=e=>{var t;const n=null!==(t=e.size)&&void 0!==t?t:64,o=e.color||"#000";return(0,c.h)("div",{class:"-cbwsdk-spinner"},(0,c.h)("style",null,r.default),(0,c.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,c.h)("circle",{style:{cx:50,cy:50,r:45,stroke:o}})))}},2099:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkFlow=void 0;const o=n(74),c=n(376),r=n(467),d=n(2100),l=n(2104);t.LinkFlow=class{constructor(e){this.extensionUI$=new c.BehaviorSubject({}),this.subscriptions=new c.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,fetch("https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags").then(e=>e.json()).then(e=>{const t=e.result.desktop.extension_ui;void 0===t?this.extensionUI$.next({value:!1}):this.extensionUI$.next({value:t})}).catch(e=>{console.error("Couldn't fetch feature flags - ",e),this.extensionUI$.next({value:!1})})}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(e=>{this.isConnected!==e&&(this.isConnected=e,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,o.render)(null,this.root),null===(e=this.root.parentElement)||void 0===e||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.pipe((0,r.first)(e=>void 0!==e.value)).subscribe(e=>{this.root&&(0,o.render)(e.value?(0,o.h)(l.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}):(0,o.h)(d.LinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel}),this.root)});this.subscriptions.add(e)}}},2100:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkDialog=void 0;const c=o(n(734)),r=n(74),d=n(551),l=o(n(2101)),k=n(1169),h=n(1170),w=n(1171);t.LinkDialog=e=>{const[t,n]=(0,d.useState)(!e.isOpen),[o,k]=(0,d.useState)(!e.isOpen);return(0,d.useEffect)(()=>{const{isOpen:t}=e,o=[window.setTimeout(()=>{k(!t)},10)];return t?n(!1):o.push(window.setTimeout(()=>{n(!0)},360)),()=>{o.forEach(window.clearTimeout)}},[e.isOpen]),(0,r.h)("div",{class:(0,c.default)("-cbwsdk-link-dialog-container",e.darkMode&&"-cbwsdk-link-dialog-container-dark",t&&"-cbwsdk-link-dialog-container-hidden")},(0,r.h)("style",null,l.default),(0,r.h)("div",{class:(0,c.default)("-cbwsdk-link-dialog-backdrop",o&&"-cbwsdk-link-dialog-backdrop-hidden")}),(0,r.h)("div",{class:"-cbwsdk-link-dialog"},(0,r.h)("div",{class:(0,c.default)("-cbwsdk-link-dialog-box",o&&"-cbwsdk-link-dialog-box-hidden")},(0,r.h)(x,{darkMode:e.darkMode,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection}),e.onCancel&&(0,r.h)(M,{onClick:e.onCancel}))))};const x=e=>{const t=window.encodeURIComponent(e.linkAPIUrl),n=e.isParentConnection?"parent-id":"id",o=`${e.linkAPIUrl}/#/link?${n}=${e.sessionId}&secret=${e.sessionSecret}&server=${t}&v=1`;return(0,r.h)("div",{class:"-cbwsdk-link-dialog-box-content"},(0,r.h)("h3",null,"Scan to",(0,r.h)("br",null)," Connect"),(0,r.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode"},(0,r.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode-wrapper"},(0,r.h)(k.QRCode,{content:o,width:224,height:224,fgColor:"#000",bgColor:"transparent"})),(0,r.h)("input",{type:"hidden",name:"cbwsdk-version",value:w.LIB_VERSION}),(0,r.h)("input",{type:"hidden",value:o}),!e.isConnected&&(0,r.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode-connecting"},(0,r.h)(h.Spinner,{size:128,color:e.darkMode?"#fff":"#000"}),(0,r.h)("p",null,"Connecting...")),(0,r.h)("p",{title:"Coinbase Wallet SDK v"+e.version},"Powered by Coinbase Wallet SDK")),(0,r.h)("a",{href:e.linkAPIUrl+"/#/wallets",target:"_blank",rel:"noopener"},"Donâ€™t have a wallet app?"))},M=e=>(0,r.h)("button",{class:"-cbwsdk-link-dialog-box-cancel",onClick:e.onClick},(0,r.h)("div",{class:"-cbwsdk-link-dialog-box-cancel-x"}))},2101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='.-cbwsdk-css-reset .-cbwsdk-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-link-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content{padding:24px;text-align:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:link,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:visited{color:#999}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:hover,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x{position:relative;display:block}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box{background-color:#2a2a2a}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content h3{color:#ccc}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode>p{color:#999}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:link,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:visited{color:#888}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:hover,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:active{color:#aaa}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel{background-color:#333}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel-x::after{background-color:#aaa}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x::after{background-color:#eee}'},2103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"},2104:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TryExtensionLinkDialog=void 0;const c=o(n(734)),r=n(74),d=n(551),l=o(n(2105)),k=o(n(2106)),h=o(n(2107)),w=o(n(2108)),x=n(1169),M=n(1170),f=o(n(2109)),I=n(1171);t.TryExtensionLinkDialog=e=>{const[t,n]=(0,d.useState)(!e.isOpen),[o,l]=(0,d.useState)(!e.isOpen);return(0,d.useEffect)(()=>{const{isOpen:t}=e,o=[window.setTimeout(()=>{l(!t)},10)];return t?n(!1):o.push(window.setTimeout(()=>{n(!0)},360)),()=>{o.forEach(window.clearTimeout)}},[e.isOpen]),(0,r.h)("div",{class:(0,c.default)("-cbwsdk-extension-dialog-container",t&&"-cbwsdk-extension-dialog-container-hidden")},(0,r.h)("style",null,f.default),(0,r.h)("div",{class:(0,c.default)("-cbwsdk-extension-dialog-backdrop",o&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,r.h)("div",{class:"-cbwsdk-extension-dialog"},(0,r.h)("div",{class:(0,c.default)("-cbwsdk-extension-dialog-box",o&&"-cbwsdk-extension-dialog-box-hidden")},(0,r.h)(y,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),e.connectDisabled?null:(0,r.h)(S,{darkMode:e.darkMode,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection}),e.onCancel&&(0,r.h)(m,{onClick:e.onCancel}))))};const y=e=>(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-top"},(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,r.h)("h2",null,"Try the Coinbase Wallet extension"),(0,r.h)("button",{onClick:e.onInstallClick},"Install")),(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-top-info-region"},(0,r.h)(v,{icon:k.default,text:"Connect to crypto apps with one click"}),(0,r.h)(v,{icon:h.default,text:"Your private key is stored securely"}),(0,r.h)(v,{icon:l.default,text:"Works with Ethereum, Polygon, and more"}))),S=e=>{const t=window.encodeURIComponent(e.linkAPIUrl),n=e.isParentConnection?"parent-id":"id",o=`${e.linkAPIUrl}/#/link?${n}=${e.sessionId}&secret=${e.sessionSecret}&server=${t}&v=1`;return(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom"},(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,r.h)("h2",null,"Or scan to connect"),(0,r.h)("body",{class:"-cbwsdk-extension-dialog-box-bottom-description"},"Open ",(0,r.h)("a",{href:"https://wallet.coinbase.com/"},"Coinbase Wallet")," on your mobile phone and scan")),(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,r.h)(x.QRCode,{content:o,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:w.default,width:34,height:34}})),(0,r.h)("input",{type:"hidden",name:"cbwsdk-version",value:I.LIB_VERSION}),(0,r.h)("input",{type:"hidden",value:o}),!e.isConnected&&(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-connecting"},(0,r.h)(M.Spinner,{size:36,color:"#000"}),(0,r.h)("p",null,"Connecting..."))))},v=e=>(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,r.h)("img",{src:e.icon})),(0,r.h)("body",{class:"-cbwsdk-extension-dialog-box-top-description-text"},e.text)),m=e=>(0,r.h)("button",{class:"-cbwsdk-extension-dialog-box-cancel",onClick:e.onClick},(0,r.h)("div",{class:"-cbwsdk-extension-dialog-box-cancel-x"}))},2105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg=="},2106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg=="},2107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"},2108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="50" cy="50" r="50" fill="white"/>\n<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>\n<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>\n</svg>\n\n'},2109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}'},2110:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Snackbar=void 0;const c=o(n(734)),r=n(74),d=n(551),l=o(n(2111));t.Snackbar=class{constructor(e){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e.darkMode}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,r.render)((0,r.h)("div",null,(0,r.h)(k,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>(0,r.h)(h,Object.assign({},t,{key:e}))))),this.root)}};const k=e=>(0,r.h)("div",{class:(0,c.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,l.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},e.children)),h=({autoExpand:e,message:t,menuItems:n})=>{const[o,l]=(0,d.useState)(!0),[k,h]=(0,d.useState)(null!=e&&e);(0,d.useEffect)(()=>{const e=[window.setTimeout(()=>{l(!1)},1),window.setTimeout(()=>{h(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}});return(0,r.h)("div",{class:(0,c.default)("-cbwsdk-snackbar-instance",o&&"-cbwsdk-snackbar-instance-hidden",k&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{h(!k)}},(0,r.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,r.h)("div",{class:"-gear-container"},!k&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((e,i)=>(0,r.h)("div",{class:(0,c.default)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:i},(0,r.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,c.default)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))}},2111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"},2116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletSDKConnection=void 0;const o=n(376),c=n(467),r=n(729),d=n(730),l=n(732),k=n(2117),h=n(2118),w=n(2119);t.WalletSDKConnection=class{constructor(e,t,n,k,w=WebSocket){this.sessionId=e,this.sessionKey=t,this.eventListener=k,this.subscriptions=new o.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,l.IntNumber)(1),this.connectedSubject=new o.BehaviorSubject(!1),this.linkedSubject=new o.BehaviorSubject(!1),this.sessionConfigSubject=new o.ReplaySubject(1);const x=new h.RxWebSocket(n+"/rpc",w);this.ws=x,this.subscriptions.add(x.connectionState$.pipe((0,c.tap)(t=>{var n;return null===(n=this.eventListener)||void 0===n?void 0:n.onEvent(r.EVENTS.CONNECTED_STATE_CHANGE,{state:t,sessionIdHash:d.Session.hash(e)})}),(0,c.skip)(1),(0,c.filter)(e=>e===h.ConnectionState.DISCONNECTED&&!this.destroyed),(0,c.delay)(5e3),(0,c.filter)(e=>!this.destroyed),(0,c.flatMap)(e=>x.connect()),(0,c.retry)()).subscribe()),this.subscriptions.add(x.connectionState$.pipe((0,c.skip)(2),(0,c.switchMap)(e=>(0,o.iif)(()=>e===h.ConnectionState.CONNECTED,this.authenticate().pipe((0,c.tap)(e=>this.sendIsLinked()),(0,c.tap)(e=>this.sendGetSessionConfig()),(0,c.map)(e=>!0)),(0,o.of)(!1))),(0,c.distinctUntilChanged)(),(0,c.catchError)(e=>(0,o.of)(!1))).subscribe(e=>this.connectedSubject.next(e))),this.subscriptions.add(x.connectionState$.pipe((0,c.skip)(1),(0,c.switchMap)(e=>(0,o.iif)(()=>e===h.ConnectionState.CONNECTED,(0,o.timer)(0,1e4)))).subscribe(i=>0===i?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(x.incomingData$.pipe((0,c.filter)(e=>"h"===e)).subscribe(e=>this.updateLastHeartbeat())),this.subscriptions.add(x.incomingJSONData$.pipe((0,c.filter)(e=>["IsLinkedOK","Linked"].includes(e.type))).subscribe(t=>{var n;const o=t;null===(n=this.eventListener)||void 0===n||n.onEvent(r.EVENTS.LINKED,{sessionIdHash:d.Session.hash(e),linked:o.linked,type:t.type,onlineGuests:o.onlineGuests}),this.linkedSubject.next(o.linked||o.onlineGuests>0)})),this.subscriptions.add(x.incomingJSONData$.pipe((0,c.filter)(e=>["GetSessionConfigOK","SessionConfigUpdated"].includes(e.type))).subscribe(t=>{var n;const o=t;null===(n=this.eventListener)||void 0===n||n.onEvent(r.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:d.Session.hash(e),metadata_keys:o&&o.metadata?Object.keys(o.metadata):void 0}),this.sessionConfigSubject.next({webhookId:o.webhookId,webhookUrl:o.webhookUrl,metadata:o.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");null===(e=this.eventListener)||void 0===e||e.onEvent(r.EVENTS.STARTED_CONNECTING,{sessionIdHash:d.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),null===(e=this.eventListener)||void 0===e||e.onEvent(r.EVENTS.DISCONNECTED,{sessionIdHash:d.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,c.filter)(e=>e),(0,c.take)(1),(0,c.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,c.filter)(e=>e),(0,c.take)(1),(0,c.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,c.filter)(e=>{if("Event"!==e.type)return!1;const t=e;return"string"==typeof t.sessionId&&"string"==typeof t.eventId&&"string"==typeof t.event&&"string"==typeof t.data}),(0,c.map)(e=>e))}setSessionMetadata(e,t){const n=(0,k.ClientMessageSetSessionConfig)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:t}});return this.onceConnected$.pipe((0,c.flatMap)(e=>this.makeRequest(n)),(0,c.map)(e=>{if((0,w.isServerMessageFail)(e))throw new Error(e.error||"failed to set session metadata")}))}publishEvent(e,data,t=!1){const n=(0,k.ClientMessagePublishEvent)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:data,callWebhook:t});return this.onceLinked$.pipe((0,c.flatMap)(e=>this.makeRequest(n)),(0,c.map)(e=>{if((0,w.isServerMessageFail)(e))throw new Error(e.error||"failed to publish event");return e.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}makeRequest(e,t=6e4){const n=e.id;try{this.sendData(e)}catch(e){return(0,o.throwError)(e)}return this.ws.incomingJSONData$.pipe((0,c.timeoutWith)(t,(0,o.throwError)(new Error(`request ${n} timed out`))),(0,c.filter)(e=>e.id===n),(0,c.take)(1))}authenticate(){const e=(0,k.ClientMessageHostSession)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,c.map)(e=>{if((0,w.isServerMessageFail)(e))throw new Error(e.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,k.ClientMessageIsLinked)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,k.ClientMessageGetSessionConfig)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}},2117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMessagePublishEvent=t.ClientMessageSetSessionConfig=t.ClientMessageGetSessionConfig=t.ClientMessageIsLinked=t.ClientMessageHostSession=void 0,t.ClientMessageHostSession=function(e){return Object.assign({type:"HostSession"},e)},t.ClientMessageIsLinked=function(e){return Object.assign({type:"IsLinked"},e)},t.ClientMessageGetSessionConfig=function(e){return Object.assign({type:"GetSessionConfig"},e)},t.ClientMessageSetSessionConfig=function(e){return Object.assign({type:"SetSessionConfig"},e)},t.ClientMessagePublishEvent=function(e){return Object.assign({type:"PublishEvent"},e)}},2118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const o=n(376),c=n(467);var r;!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(r=t.ConnectionState||(t.ConnectionState={}));t.RxWebSocket=class{constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.connectionStateSubject=new o.BehaviorSubject(r.DISCONNECTED),this.incomingDataSubject=new o.Subject,this.url=e.replace(/^http/,"ws")}connect(){return this.webSocket?(0,o.throwError)(new Error("webSocket object is not null")):new o.Observable(e=>{let t;try{this.webSocket=t=new this.WebSocketClass(this.url)}catch(t){return void e.error(t)}this.connectionStateSubject.next(r.CONNECTING),t.onclose=t=>{this.clearWebSocket(),e.error(new Error(`websocket error ${t.code}: ${t.reason}`)),this.connectionStateSubject.next(r.DISCONNECTED)},t.onopen=t=>{e.next(),e.complete(),this.connectionStateSubject.next(r.CONNECTED)},t.onmessage=e=>{this.incomingDataSubject.next(e.data)}}).pipe((0,c.take)(1))}disconnect(){const{webSocket:e}=this;if(e){this.clearWebSocket(),this.connectionStateSubject.next(r.DISCONNECTED);try{e.close()}catch(e){}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,c.flatMap)(e=>{let t;try{t=JSON.parse(e)}catch(e){return(0,o.empty)()}return(0,o.of)(t)}))}sendData(data){const{webSocket:e}=this;if(!e)throw new Error("websocket is not connected");e.send(data)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}},2119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isServerMessageFail=void 0,t.isServerMessageFail=function(e){return e&&"Fail"===e.type&&"number"==typeof e.id&&"string"==typeof e.sessionId&&"string"==typeof e.error}},729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=void 0,t.EVENTS={REQUEST_CHILD_ETHEREUM_ACCOUNTS_START:"walletlink_sdk.request_child_ethereum_accounts.start",REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE:"walletlink_sdk.request_child_ethereum_accounts.response",STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[1120,283],{3137:function(e,n,t){"use strict";t(165);var o=t(644),r=t(9);n.a={mixins:[o.o,o.n,o.u],computed:{isLand:function(){return this.land&&isNaN(this.land.id)},isEstate:function(){return!this.isLand},landTitle:function(){return this.isLand?"Land":"Estate"},landCoordName:function(){return this.land?(this.land.coordinateX||this.land.x||0)+", "+(this.land.coordinateY||this.land.y||0):null},isPurchased:function(){if(this.isLand)return this.land.owned||!!this.land.blockchainId;var e=this.land.Lands;return e&&e.length>0&&!!e[0].blockchainId},isBooked:function(){return!this.isPurchased&&!!this.land.ownerAddress},isOwner:function(){return!!(this.land&&this.isPurchased&&this.linkedWallet&&this.land.ownerAddress)&&this.land.ownerAddress.toLowerCase()===this.linkedWallet.address.toLowerCase()},isBooker:function(){return this.land&&this.linkedWallet&&this.land.ownerAddress&&this.land.ownerAddress.toLowerCase()===this.linkedWallet.address.toLowerCase()},isPartner:function(){if(!this.land||!this.land.ownerAddress||!this.linkedWallet)return!1;var e=this.land.ownerAddress.toLowerCase(),n=this.linkedWallet.address.toLowerCase();return this.land.reserved&&e===n},isSandbox:function(){return this.land&&this.land.ownerAddress&&"0x7a9fe22691c811ea339d9b73150e6911a5343dca"===this.land.ownerAddress.toLowerCase()},hasOpenseaAuction:function(){return this.isSandbox&&this.landURL&&(this.landURL.startsWith(r.H)||this.landURL.startsWith(r.I))},landURL:function(){if(!this.land)return null;var e=this.land.url;return e&&!e.startsWith("http")&&(e="https://"+e),e},owner:function(){return this.land&&this.land.Wallet&&this.land.Wallet.User},ownerName:function(){if(this.checkAvailability)return this.$t("map.detail.available");var e=this.land&&this.land.ownerAddress;return this.owner&&this.owner.username||e||this.$t("map.detail.unavailable")},getLandSectorStarted:function(){return this.$store.getters["presaleconfig/getStarted"](this.land&&this.land.sector)},getLandSectorFinished:function(){return this.$store.getters["presaleconfig/getFinished"](this.land&&this.land.sector)},checkSectorAvailability:function(){return this.getLandSectorStarted&&!this.getLandSectorFinished},checkAvailability:function(){return this.land&&this.checkSectorAvailability&&!this.isPurchased&&(!this.isBooked||this.isBooker&&this.isPartner)},discount:function(){var e;switch(this.land.type){case 1:e="5%";break;case 2:e="10%";break;case 3:e="15%";break;case 4:e="20%"}return e},landPreview:function(){var e;if(this.isLand)e=this.getLandPreview(this.land);else if(this.land&&this.land.EstatePreviews)for(var i in e=[],this.land.EstatePreviews){var n=this.land.EstatePreviews[i];e.push(this.getEstatePreview(this.land,n))}else e=["/img/16_Presale/asset_estate.png","/img/16_Presale/asset_estate.png","/img/16_Presale/asset_estate.png"];return e},userAvatar:function(){return this.getUserPreview(this.owner)}}}},3139:function(e,n,t){"use strict";t(32),t(24),t(25),t(22),t(15),t(58);var o=t(29),r=(t(46),t(50),t(12),t(0)),l=t(10),d=t(36),c=t(11),h=t(3137),f=t(13);function M(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(n){Object(l.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}n.a=m(m({},h.a),{},{data:function(){return{showCheckout:!1,showSANDCheckout:!1,shownedAssets:[]}},computed:m(m({},h.a.computed),{},{land:function(){return this.$store.state.products.mapSelected},priceInETH:function(){return this.land?this.$store.getters["landsale/ethAmount"](this.land.sandPrice):0},priceInDAI:function(){return this.land?this.$store.getters["landsale/daiAmount"](this.land.sandPrice):0},priceInSAND:function(){return this.land?Math.ceil(this.$store.getters["landsale/sandAmount"](this.land.sector,this.land.sandPrice)):0}}),methods:{openCheckout:function(){this.showCheckout||(this.user?this.linkedWallet?this.land.sector>10?this.buy({isSAND:!0}):this.showCheckout=!0:this.toggleModal(this.modals.linkWallet):this.toggleModal(this.modals.wallet))},getAction:function(e){if(e.source&&"api"===e.source)return{text:"Contact us",url:"https://form.jotformz.com/93355036222653"}},buy:function(e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.isETH,r=e.isDAI,l=e.isSAND,!n.blockButton){t.next=3;break}return t.abrupt("return");case 3:if(n.landId=n.land.id,n.showCheckout=!1,n.blockButton=!0,t.prev=6,!o){t.next=12;break}return t.next=10,n.$store.dispatch("landsale/buyLandWithETH",n.land);case 10:t.next=23;break;case 12:if(!r){t.next=17;break}return t.next=15,n.$store.dispatch("landsale/buyLandWithDAI",n.land);case 15:t.next=23;break;case 17:if(!l){t.next=22;break}return t.next=20,n.$store.dispatch("landsale/buyLandWithSAND",n.land);case 20:t.next=23;break;case 22:throw new Error("Invalid buy option");case 23:t.next=31;break;case 25:t.prev=25,t.t0=t.catch(6),n.blockButton=!1,(d=t.t0.message?t.t0.message:"Something went wrong").includes("Not enough SAND")&&(n.showSANDCheckout=!0),Object(f.d)({title:d,link:n.getAction(t.t0)});case 31:case"end":return t.stop()}}),t,null,[[6,25]])})))()},getOwnedAssets:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var t,r,l,h,f,M;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.land.Wallet){n.next=3;break}return n.abrupt("return");case 3:return r=[],t.address&&r.push(d.a.getAssets({userAddress:t.address,purchased:1,limit:5,offset:0}).then((function(e){return e.data.purchased.rows})).catch((function(){return[]}))),t.User&&r.push(d.a.getAssets({creator:t.User.id,published:1,limit:5,offset:0}).then((function(e){return e.data.published.rows})).catch((function(){return[]}))),n.next=8,Promise.all(r);case 8:l=n.sent,h=Object(o.a)(l,2),f=h[0],M=h[1],c.default.set(e,"shownedAssets",(f||[]).concat(M||[]).slice(0,5));case 13:case"end":return n.stop()}}),n)})))()}}})},5414:function(e,n,t){"use strict";t.r(n);t(49),t(68);var o=t(508),r=t(3139),l={components:{Modal:function(){return t.e(269).then(t.bind(null,5421))},ModalSignIn:function(){return t.e(1133).then(t.bind(null,5405))},ModalSeasonPassLocked:function(){return t.e(685).then(t.bind(null,5648))},ModalSeasonOver:function(){return t.e(989).then(t.bind(null,5649))},ModalForgotPassword:function(){return t.e(1131).then(t.bind(null,5650))},ModalRestoreFromMail:function(){return t.e(1132).then(t.bind(null,5651))},ModalWallet:function(){return t.e(335).then(t.bind(null,5384))},ModalVerifyEmail:function(){return t.e(992).then(t.bind(null,5652))},ModalLinkWallet:function(){return t.e(376).then(t.bind(null,5387))},ModalStarterPack:function(){return t.e(1134).then(t.bind(null,5653))},ModalCompleteProfile:function(){return t.e(974).then(t.bind(null,5654))},ModalVoxEditOldVersion:function(){return t.e(1135).then(t.bind(null,5655))},ModalSeasonLevelUp:function(){return t.e(988).then(t.bind(null,5656))},ModalSeasonCompleted:function(){return t.e(985).then(t.bind(null,5657))},ModalLottery:function(){return t.e(980).then(t.bind(null,5658))},ModalCannotPreRegister:function(){return t.e(973).then(t.bind(null,5659))},ModalSeasonCountdownRegister:function(){return t.e(987).then(t.bind(null,5660))},ModalSeasonConfirmRegister:function(){return t.e(986).then(t.bind(null,5661))},ModalFindPassOpensea:function(){return t.e(977).then(t.bind(null,5662))},ModalSeasonCarousel:function(){return t.e(1056).then(t.bind(null,5663))},ModalLotteryEnded:function(){return t.e(981).then(t.bind(null,5664))},ModalSeasonRaffleInProgress:function(){return t.e(990).then(t.bind(null,5665))},ModalLandDetailsOutOfSite:function(){return t.e(972).then(t.bind(null,5666))},ModalLandDetailsBid:function(){return t.e(734).then(t.bind(null,5667))},ModalPreSeason2:function(){return t.e(426).then(t.bind(null,5668))},ModalLands:function(){return t.e(978).then(t.bind(null,5669))},ModalPresaleStarting:function(){return t.e(983).then(t.bind(null,5670))},ModalSummaryAlpha3:function(){return t.e(991).then(t.bind(null,5671))}},mixins:[o.a,r.a],data:function(){return{transparentModals:["seasonOver","seasonLevelUp","seasonCompleted","currentBalance","seasonCountdownRegister","seasonConfirmRegister","seasonCannotPreRegister","seasonCarousel","findPassOpensea","lotteryEnded","seasonRaffleInProgress","preSeason","presaleStarting"],backgroundModals:[{name:"seasonOver",backgroundColor:"rgba(6, 12, 29, .9)"},{name:"seasonLevelUp",backgroundColor:"rgba(6, 12, 29, .9)"},{name:"seasonCompleted",backgroundColor:"rgba(6, 12, 29, .9)"},{name:"wallet",backgroundColor:"none"}],embedModals:[]}},computed:{isTransparentModal:function(){var e=this;return!!this.transparentModals.find((function(n){return n==e.currentModal}))},backgroundColor:function(){var e=this,n=this.backgroundModals.find((function(n){return n.name==e.currentModal}));return n?n.backgroundColor:"rgba(0, 0, 0, 0.9)"},isEmbedModal:function(){var e=this;return!!this.embedModals.find((function(n){return n==e.currentModal}))},VoxEditOldVersionEnabled:function(){return this.isModalEnabled(this.modals.oldvoxedit)},signInEnabled:function(){return this.isModalEnabled(this.modals.signIn)},recoverPasswordEnabled:function(){return this.isModalEnabled(this.modals.recoverPassword)},seasonPassLockedEnabled:function(){return this.isModalEnabled(this.modals.seasonPassLocked)},currentBalanceEnabled:function(){return this.isModalEnabled(this.modals.currentBalance)},seasonOverEnabled:function(){return this.isModalEnabled(this.modals.seasonOver)},restoreFromMailEnabled:function(){return this.isModalEnabled(this.modals.restoreFromMail)},walletEnabled:function(){return this.isModalEnabled(this.modals.wallet)},verifyEmailEnabled:function(){return this.isModalEnabled(this.modals.verifyEmail)},linkWalletEnabled:function(){return this.isModalEnabled(this.modals.linkWallet)},starterPackEnabled:function(){return this.isModalEnabled(this.modals.starterPack)},completeProfileEnabled:function(){return this.isModalEnabled(this.modals.completeProfile)},isPlayWhitelisted:function(){return this.$store.getters["whitelist/isAuthorized"]("play")},seasonLevelUp:function(){return this.isModalEnabled(this.modals.seasonLevelUp)},seasonCompleted:function(){return this.isModalEnabled(this.modals.seasonCompleted)},seasonCannotPreRegister:function(){return this.isModalEnabled(this.modals.seasonCannotPreRegister)},showModalOwner:function(){return this.$store.state.page.onboardingOwner},seasonCountdownRegister:function(){return this.isModalEnabled(this.modals.seasonCountdownRegister)},seasonConfirmRegister:function(){return this.isModalEnabled(this.modals.seasonConfirmRegister)},findPassOpensea:function(){return this.isModalEnabled(this.modals.findPassOpensea)},seasonCarousel:function(){return this.isModalEnabled(this.modals.seasonCarousel)},lotteryEnded:function(){return this.isModalEnabled(this.modals.lotteryEnded)},seasonRaffleInProgress:function(){return this.isModalEnabled(this.modals.seasonRaffleInProgress)},landDetailsOutOfSite:function(){return this.isModalEnabled(this.modals.landDetailsOutOfSite)},landDetailsBidCheckout:function(){return this.isModalEnabled(this.modals.landDetailsBidCheckout)},preSeason:function(){return this.isModalEnabled(this.modals.preSeason)},viewLands:function(){return this.isModalEnabled(this.modals.viewLands)},isPresaleStarting:function(){return this.isModalEnabled(this.modals.presaleStarting)},summaryAlpha3:function(){return this.isModalEnabled(this.modals.summaryAlpha3)},isClient:function(){return!0}}},d=t(26),component=Object(d.a)(l,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.isClient&&e.currentModal?t("Modal",{class:{transparent:e.isTransparentModal,embed:e.isEmbedModal},attrs:{"margin-top":"0","overlay-color":e.backgroundColor,"overlay-image-hidden":!e.walletEnabled,fullscreen:e.summaryAlpha3,"background-color-hidden":e.walletEnabled||e.isPresaleStarting},on:{close:e.closeModal}},[e.signInEnabled?t("ModalSignIn"):e._e(),e._v(" "),e.recoverPasswordEnabled?t("ModalForgotPassword"):e._e(),e._v(" "),e.restoreFromMailEnabled?t("ModalRestoreFromMail"):e._e(),e._v(" "),e.walletEnabled?t("ModalWallet"):e._e(),e._v(" "),e.verifyEmailEnabled?t("ModalVerifyEmail"):e._e(),e._v(" "),e.linkWalletEnabled?t("ModalLinkWallet"):e._e(),e._v(" "),e.starterPackEnabled?t("ModalStarterPack"):e._e(),e._v(" "),e.completeProfileEnabled&&e.isPlayWhitelisted&&e.showModalOwner?t("ModalCompleteProfile",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.currentBalanceEnabled?t("ModalLottery",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.seasonCountdownRegister?t("ModalSeasonCountdownRegister",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.seasonConfirmRegister?t("ModalSeasonConfirmRegister",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.findPassOpensea?t("ModalFindPassOpensea",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.seasonPassLockedEnabled?t("ModalSeasonPassLocked",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.VoxEditOldVersionEnabled?t("ModalVoxEditOldVersion"):e._e(),e._v(" "),e.seasonOverEnabled?t("ModalSeasonOver"):e._e(),e._v(" "),e.seasonLevelUp?t("ModalSeasonLevelUp",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.seasonCompleted?t("ModalSeasonCompleted",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.seasonCannotPreRegister?t("ModalCannotPreRegister",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.seasonCarousel?t("ModalSeasonCarousel",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.lotteryEnded?t("ModalLotteryEnded",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.seasonRaffleInProgress?t("ModalSeasonRaffleInProgress",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.landDetailsBidCheckout?t("ModalLandDetailsBid",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.landDetailsOutOfSite?t("ModalLandDetailsOutOfSite",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.preSeason?t("ModalPreSeason2",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.viewLands?t("ModalLands",{attrs:{lands:e.land.Lands},on:{close:e.closeModal}}):e._e(),e._v(" "),e.isPresaleStarting?t("ModalPresaleStarting",{on:{close:e.closeModal}}):e._e(),e._v(" "),e.summaryAlpha3?t("ModalSummaryAlpha3",{on:{close:e.closeModal}}):e._e()],1):e._e()}),[],!1,null,null,null);n.default=component.exports}}]);
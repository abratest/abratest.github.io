(window.webpackJsonp=window.webpackJsonp||[]).push([[225],{1054:function(e,t,r){const n=r(1053);function o(e){return"never"!==d(e)}function c(e){const t=l(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function l(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function d(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}e.exports={cacheIdentifierForPayload:function(e,t){const r=t?c(e):e.params;return o(e)?e.method+":"+n(r):null},canCache:o,blockTagForPayload:function(e){let t=l(e);if(t>=e.params.length)return null;return e.params[t]},paramsWithoutBlockTag:c,blockTagParamIndex:l,cacheTypeForPayload:d}},1056:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var p in e)"default"===p||Object.prototype.hasOwnProperty.call(t,p)||n(t,e,p)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2044),t),o(r(2045),t),o(r(2046),t),o(r(1057),t),o(r(1058),t),o(r(2049),t)},1057:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;let n=Math.floor(4294967295*Math.random());t.getUniqueId=function(){return n=(n+1)%4294967295,n}},1058:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const o=n(r(547)),c=r(2047);class l extends o.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[o,c,d]=await l._runAllMiddleware(e,t,this._middleware);return c?(await l._runReturnHandlers(d),n(o)):r(async e=>{try{await l._runReturnHandlers(d)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new c.EthereumRpcError(c.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new c.EthereumRpcError(c.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,n)}catch(e){o=e}return o&&(delete n.result,n.error||(n.error=c.serializeError(o))),t(o,n)}async _processRequest(e,t){const[r,n,o]=await l._runAllMiddleware(e,t,this._middleware);if(l._checkForCompletion(e,t,n),await l._runReturnHandlers(o),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let o=null,c=!1;for(const d of r)if([o,c]=await l._runMiddleware(e,t,d,n),c)break;return[o,c,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(o=>{const l=e=>{const r=e||t.error;r&&(t.error=c.serializeError(r)),o([r,!0])},h=r=>{t.error?l(t.error):(r&&("function"!=typeof r&&l(new c.EthereumRpcError(c.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${d(e)}`,{request:e})),n.push(r)),o([null,!1]))};try{r(e,t,h,l)}catch(e){l(e)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new c.EthereumRpcError(c.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n"+d(e),{request:e});if(!r)throw new c.EthereumRpcError(c.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n"+d(e),{request:e})}}function d(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=l},1061:function(e,t,r){e.exports=r(2050)},1388:function(e,t,r){const n=r(1265),o=r(1055),c=r(1054).cacheIdentifierForPayload;e.exports=function(){const e={};return o(async(t,r,o)=>{if(t.skipCache)return o();const l=c(t);if(!l)return o();let d=e[l];d?await function(e,t){const{resolve:r,promise:o}=function(){let e;const t=new Promise(t=>{e=t});return{resolve:e,promise:t}}();return t.push(t=>{e.result=n(t.result),e.error=n(t.error),r()}),o}(r,d):(d=[],e[l]=d,await o(),delete e[l],function(e,t){setTimeout(()=>{t.forEach(t=>{try{t(e)}catch(e){console.error(e)}})})}(r,d))})}},2044:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(1057);t.createIdRemapMiddleware=function(){return(e,t,r,o)=>{const c=e.id,l=n.getUniqueId();e.id=l,t.id=l,r(r=>{e.id=c,t.id=c,r()})}}},2045:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,o)=>{let c;const l=new Promise(e=>{c=e});let d=null,h=!1;const f=async()=>{h=!0,n(e=>{d=e,c()}),await l};try{await e(t,r,f),h?(await l,d(null)):o(null)}catch(e){d?d(e):o(e)}}}},2046:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,o)=>{const c=e[t.method];return void 0===c?n():"function"==typeof c?c(t,r,n,o):(r.result=c,o())}}},2049:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(1058);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}},2052:function(e,t,r){"use strict";const n=(e,t,r,n)=>function(...o){return new(0,t.promiseModule)((c,l)=>{t.multiArgs?o.push((...e)=>{t.errorFirst?e[0]?l(e):(e.shift(),c(e)):c(e)}):t.errorFirst?o.push((e,t)=>{e?l(e):c(t)}):o.push(c);const d=this===r?n:this;Reflect.apply(e,d,o)})},o=new WeakMap;e.exports=(input,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const t=typeof input;if(null===input||"object"!==t&&"function"!==t)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===input?"null":t}\``);const r=new WeakMap,c=new Proxy(input,{apply(t,o,l){const d=r.get(t);if(d)return Reflect.apply(d,o,l);const h=e.excludeMain?t:n(t,e,c,t);return r.set(t,h),Reflect.apply(h,o,l)},get(t,l){const d=t[l];if(!((t,r)=>{let n=o.get(t);if(n||(n={},o.set(t,n)),r in n)return n[r];const c=pattern=>"string"==typeof pattern||"symbol"==typeof r?r===pattern:pattern.test(r),desc=Reflect.getOwnPropertyDescriptor(t,r),l=void 0===desc||desc.writable||desc.configurable,d=(e.include?e.include.some(c):!e.exclude.some(c))&&l;return n[r]=d,d})(t,l)||d===Function.prototype[l])return d;const h=r.get(d);if(h)return h;if("function"==typeof d){const o=n(d,e,c,t);return r.set(d,o),o}return d}});return c}},2055:function(e,t,r){const n=r(721),o=r(722),{incrementHexInt:c}=r(465);e.exports=class extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=c(e),n=await o({provider:this.provider,fromBlock:r,toBlock:t}),l=[];for(const e of n)l.push(...e.transactions);this.addResults(l)}}},603:function(e,t,r){const n=r(547).default,o=r(1061),{createAsyncMiddleware:c}=r(1056),l=r(602),{unsafeRandomBytes:d,incrementHexInt:h}=r(465),f=r(722);function _(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){const r={},y=l({blockTracker:e,provider:t});let m=!1;const w=new n,k=o({eth_subscribe:c((async function(n,o){if(m)throw new Error("SubscriptionManager - attempting to use after destroying");const c=n.params[0],l=d(16);let sub;switch(c){case"newHeads":sub=function({subId:r}){const sub={type:c,destroy:async()=>{e.removeListener("sync",sub.update)},update:async({oldBlock:e,newBlock:n})=>{const o=n,c=h(e);(await f({provider:t,fromBlock:c,toBlock:o})).map(_).forEach(e=>{B(r,e)})}};return e.on("sync",sub.update),sub}({subId:l});break;case"logs":const r=n.params[1],filter=await y.newLogFilter(r);sub=function({subId:e,filter:filter}){filter.on("update",t=>B(e,t));return{type:c,destroy:async()=>await y.uninstallFilter(filter.idHex)}}({subId:l,filter:filter});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${c}"`)}return r[l]=sub,void(o.result=l)})),eth_unsubscribe:c((async function(e,t){if(m)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],o=r[n];if(!o)return void(t.result=!1);delete r[n],await o.destroy(),t.result=!0}))});return k.destroy=function(){w.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];m=!0},{events:w,middleware:k};function B(e,t){w.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},775:function(e,t,r){const n=r(1054),o=r(1055),c=[void 0,null,"<nil>"];e.exports=function(e={}){const{blockTracker:t}=e;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new l,c={perma:r,block:r,fork:r};return o(async(e,o,l)=>{if(e.skipCache)return l();const d=n.cacheTypeForPayload(e),h=c[d];if(!h)return l();if(!h.canCacheRequest(e))return l();let f,_=n.blockTagForPayload(e);if(_||(_="latest"),"earliest"===_)f="0x00";else if("latest"===_){const e=await t.getLatestBlock();r.clearBefore(e),f=e}else f=_;const y=await h.get(e,f);void 0===y?(await l(),await h.set(e,f,o.result)):o.result=y})};class l{constructor(){this.cache={}}getBlockCacheForPayload(e,t){const r=Number.parseInt(t,16);let n=this.cache[r];if(!n){const e={};this.cache[r]=e,n=e}return n}async get(e,t){const r=this.getBlockCacheForPayload(e,t);if(!r)return;return r[n.cacheIdentifierForPayload(e,!0)]}async set(e,t,r){if(!this.canCacheResult(e,r))return;this.getBlockCacheForPayload(e,t)[n.cacheIdentifierForPayload(e,!0)]=r}canCacheRequest(e){if(!n.canCache(e))return!1;return"pending"!==n.blockTagForPayload(e)}canCacheResult(e,t){if(!c.includes(t))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)||t&&t.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==t.blockHash)}clearBefore(e){const t=this,r=Number.parseInt(e,16);Object.keys(t.cache).map(Number).filter(e=>e<r).forEach(e=>delete t.cache[e])}}}}]);
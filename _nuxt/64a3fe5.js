(window.webpackJsonp=window.webpackJsonp||[]).push([[455],{151:function(e,t,r){"use strict";r.d(t,"c",(function(){return O})),r.d(t,"d",(function(){return P})),r.d(t,"e",(function(){return A})),r.d(t,"f",(function(){return I})),r.d(t,"a",(function(){return T})),r.d(t,"b",(function(){return S})),r.d(t,"g",(function(){return G}));r(32),r(24),r(22),r(25),r(68),r(15),r(46);var n=r(10),c=(r(12),r(0)),o=r(40),l=r.n(o),d=r(1344),f=r(9),k=r(13);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={clientId:"TheSandbox",environment:f.C?"staging":"production",signMethod:"POPUP",windowMode:"POPUP",useOverlayWithPopup:!1,skipAuthentication:!0,pollingInterval:3e5},y=["google","facebook","twitter"];function O(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=W({},v),y.includes(t)&&(r.authenticationOptions={idpHint:t},delete r.skipAuthentication);case 3:if(window.Venly){e.next=8;break}return e.next=6,new Promise((function(e){return setTimeout(e,50)}));case 6:e.next=3;break;case 8:return window.Venly.subProvider&&window.Venly.subProvider.options&&(window.Venly.subProvider.options.authenticationOptions=r.authenticationOptions,window.Venly.subProvider.options.pollingInterval=3e5),e.next=11,window.Venly.createProviderEngine(r);case 11:return window.venly=e.sent,e.abrupt("return",new l.a(window.venly));case 15:return e.prev=15,e.t0=e.catch(0),console.error("venly init error: ",e.t0),Object(k.d)({title:$nuxt.$i18n.t("user.signinModal.errors.venlyConnectionError"),duration:6e5}),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function m(){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.venly){e.next=3;break}return e.next=3,O();case 3:return window.Venly&&window.Venly.venlyConnect||(window.Venly.venlyConnect=new d.VenlyConnect(v)),e.abrupt("return",window.Venly.venlyConnect);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return t=e.sent,e.next=6,t.checkAuthenticated();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("venly isLoggedIn error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function A(e){return R.apply(this,arguments)}function R(){return(R=Object(c.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return r=e.sent,e.next=6,r.flows.authenticate({idpHint:t});case 6:return e.abrupt("return",T());case 9:e.prev=9,e.t0=e.catch(0),console.error("venly login error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function I(){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return t=e.sent,e.next=6,t.logout();case 6:return r=e.sent,delete window.venlyConnect,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error("venly logout error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function T(){return V.apply(this,arguments)}function V(){return(V=Object(c.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return t=e.sent,e.next=6,t.api.getProfile();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("venly getProfile error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function U(){return E.apply(this,arguments)}function E(){return(E=Object(c.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return t=e.sent,e.next=6,t.api.getWallets();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error("venly getWallets error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function S(){return B.apply(this,arguments)}function B(){return(B=Object(c.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P();case 3:return t=e.sent,e.abrupt("return",t.auth.token);case 7:e.prev=7,e.t0=e.catch(0),console.error("venly getToken error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function D(e,t){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return n=e.sent,e.next=6,n.createSigner();case 6:if(c=e.sent){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,c.importWallet({walletId:t,to:r});case 11:return o=e.sent,e.abrupt("return",o);case 15:e.prev=15,e.t0=e.catch(0),console.error("venly importWallet error: ",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function N(e){return L.apply(this,arguments)}function L(){return(L=Object(c.a)(regeneratorRuntime.mark((function e(address){var t,r,n,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:"",e.prev=1,e.next=4,U();case 4:return r=e.sent,n=r.find((function(e){return e.address.toLowerCase()===address.toLowerCase()&&(!t||e.secretType===t)})),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.error("venly hasWalletOnNetwork error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function G(e,t){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(regeneratorRuntime.mark((function e(address,t){var r,n,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=1,e.next=4,N(address,t);case 4:if(e.sent){e.next=13;break}return e.next=8,N(address);case 8:if(n=e.sent){e.next=11;break}throw new Error("No wallet was found for this address");case 11:return e.next=13,D(n.id,t);case 13:window.Venly.changeSecretType(t).then((function(e){window.web3=new l.a(e),window.web3.eth.getChainId(),window.web3.eth.getAccounts(),r&&r()})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("venly switchNetwork error: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}},2605:function(e,t,r){"use strict";r.r(t),r.d(t,"mutations",(function(){return k})),r.d(t,"getters",(function(){return w})),r.d(t,"state",(function(){return W})),r.d(t,"actions",(function(){return y}));r(32),r(24),r(22),r(15),r(25),r(12);var n=r(0),c=(r(68),r(10)),o=r(1),l=r(795);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k=o.c,w=f(f({},o.b),{},{getByProductType:function(e,t){return function(e){return t.get("whitelisted",[]).filter((function(i){return i.productType===e}))}},isRegistered:function(e,t){return function(e){return t.getByProductType(e).length>0}},isAuthorized:function(e,t){return function(e){return!!t.getByProductType(e).find((function(i){return i.authorized}))}}}),W=function(){return{whitelisted:{data:[],status:"loading"},addToProductWhitelist:{data:null,status:"success"}}};function v(e){var t=e.user.currentUser;return t&&t.Wallets&&t.Wallets.length>0?t.Wallets[0].address:null}var y={getWhitelisted:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,n=Object(o.a)(r,"whitelisted"),t.next=5,l.a.getWhitelisted().catch((function(e){if(!e.response||401!==e.response.status)throw e;return[]}));case 5:c=t.sent,n.success(c),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(1),console.error(t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},addToProductWhitelist:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,d,f,k,w;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.commit,c=e.rootState,d=e.getters,f=e.dispatch,r.prev=1,k=Object(o.a)(n,"addToProductWhitelist"),!(d.getByProductType(t).length>0)){r.next=6;break}return k.error("Already whitelisted to product "+t),r.abrupt("return");case 6:if(w=v(c)){r.next=10;break}return k.error("User doesn't have a wallet address"),r.abrupt("return");case 10:return r.next=12,l.a.add({address:w,productType:t});case 12:k.success("Added to product whitelist "+t),f("getWhitelisted"),r.next=20;break;case 16:throw r.prev=16,r.t0=r.catch(1),console.error(r.t0),r.t0;case 20:case"end":return r.stop()}}),r,null,[[1,16]])})))()}}},2606:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return k})),r.d(t,"mutations",(function(){return w})),r.d(t,"getters",(function(){return W})),r.d(t,"actions",(function(){return v}));r(32),r(24),r(22),r(15),r(25);var n=r(10),c=r(1),o=r(5),l=r(66);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k=function(){return{workspaces:{data:null,status:"success"},workspacesByUserId:{data:null,status:"success"},worksapceAssets:{data:null,status:"success"},createWorkspaceAsset:{data:null,status:"success"},worksapceAssetsNoPaginated:{data:null,status:"success"},workspaceById:{data:null,status:"success"},addWorkspace:{data:null,status:"success"},updateWorkspace:{data:null,status:"success"},deleteWorkspace:{data:null,status:"success"},workspaceMembers:{data:null,status:"success"},workspaceMember:{data:null,status:"success"},memberPermissions:{data:null,status:"success"},workspaceGroups:{data:null,status:"success"},workspaceInvites:{data:null,status:"success"},addWorkspaceMember:{data:null,status:"success"},updateWorkspaceMember:{data:null,status:"success"},deleteWorkspaceMember:{data:null,status:"success"},createWorkspaceMemberInvite:{data:null,status:"success"},deleteWorkspaceInvite:{data:null,status:"success"},createWorkspaceRole:{data:null,status:"success"},updateWorkspaceRole:{data:null,status:"success"},updateWorkspaceAsset:{data:null,status:"success"},deleteWorkspaceRole:{data:null,status:"success"},workspaceAssetVersions:{data:null,status:"success"},restoreWorkspaceAssetVersion:{data:null,status:"success"},allocateUnallocateWorkspaceAssets:{data:null,status:"success"},experiencesByWorkspaceAsset:{data:null,status:"success"},workspaceSettingsUpdated:{data:!1,status:"success"},transferAssetToWorkspace:{data:!1,status:"success"}}},w=f(f({},c.c),{},{SET_WORKSPACE_UPDATED:function(e,t){e.workspaceSettingsUpdated.data=t}}),W=f(f({},c.b),{},{getIconURL:function(){return function(e){return l.a.iconURL(e)}}}),v={setProperty:c.e,workspaceSettingsUpdated:function(e,t){e.commit("SET_WORKSPACE_UPDATED",t)},getWorkspaces:Object(o.a)({prop:"workspaces",func:l.a.getWorkspaces}),getWorkspacesByUserId:Object(o.a)({prop:"workspacesByUserId",func:l.a.getWorkspacesByUserId}),getWorkspaceById:Object(o.a)({prop:"workspaceById",func:l.a.getWorkspaceById}),addWorkspace:Object(o.a)({prop:"addWorkspace",func:l.a.addWorkspace,toast:{success:"Workspace created",error:"Workspace error"}}),updateWorkspace:Object(o.a)({prop:"updateWorkspace",func:l.a.updateWorkspace,toast:{success:"Workspace update",error:"Workspace error"}}),getWorkspaceMembers:Object(o.a)({prop:"workspaceMembers",func:l.a.getWorkspaceMembers}),getWorkspaceMember:Object(o.a)({prop:"workspaceMember",func:l.a.getWorkspaceMember}),getWorkspaceGroups:Object(o.a)({prop:"workspaceGroups",func:l.a.getWorkspaceGroups}),addWorkspaceMember:Object(o.a)({prop:"addWorkspaceMember",func:l.a.addWorkspaceMember}),updateWorkspaceMember:Object(o.a)({prop:"updateWorkspaceMember",func:l.a.updateWorkspaceMember,toast:{success:"Workspace Member updated",error:"WorkspaceMember update error"}}),deleteWorkspace:Object(o.a)({prop:"deleteWorkspace",func:l.a.deleteWorkspace,toast:{success:"Workspace deleted",error:"Workspace delete error"}}),deleteWorkspaceMember:Object(o.a)({prop:"deleteWorkspaceMember",func:l.a.deleteWorkspaceMember,toast:{success:"WorkspaceMember deleted",error:"WorkspaceMember delete error"}}),getWorkpaceInvites:Object(o.a)({prop:"workspaceInvites",func:l.a.getWorkspaceInvites}),createWorkspaceMemberInvite:Object(o.a)({prop:"createWorkspaceMemberInvite",func:l.a.createWorkspaceInvites,toast:{success:"Invite link created",error:"Invite link not created"}}),deleteWorkspaceInvite:Object(o.a)({prop:"deleteWorkspaceInvite",func:l.a.deleteWorkspaceInvite,toast:{success:"Invite link deleted",error:"Invite link not deleted"}}),createWorkspaceRole:Object(o.a)({prop:"createWorkspaceRole",func:l.a.createWorkspaceRole}),updateWorkspaceRole:Object(o.a)({prop:"updateWorkspaceRole",func:l.a.updateWorkspaceRole}),deleteWorkspaceRole:Object(o.a)({prop:"createWorkspaceRole",func:l.a.deleteWorkspaceRole}),getWorkspaceAssets:Object(o.a)({prop:"worksapceAssets",func:l.a.getWorkspaceAssets}),getWorkspaceAssetsNoPaginted:Object(o.a)({prop:"worksapceAssetsNoPaginated",func:l.a.getWorkspaceAssetsNoPaginated}),createWorkspaceAsset:Object(o.a)({prop:"createWorkspaceAsset",func:l.a.createWorkspaceAsset}),updateWorkspaceAsset:Object(o.a)({prop:"updateWorkspaceAsset",func:l.a.updateWorkspaceAsset,toast:{error:"Error on update asset"}}),transferAssetToWorkspace:Object(o.a)({prop:"transferAssetToWorkspace",func:l.a.transferAssetToWorkspace,toast:{error:"Error on transfer asset to Workspace"}}),getWorkspaceAssetVersion:Object(o.a)({prop:"workspaceAssetVersions",func:l.a.getWorkspaceAssetVersions}),restoreWorkspaceAssetVersion:Object(o.a)({prop:"restoreWorkspaceAssetVersion",func:l.a.restoreWorkspaceAssetVersion}),allocateUnallocateWorkspaceAssets:Object(o.a)({prop:"allocateUnallocateWorkspaceAssets",func:l.a.allocateUnallocateWorkspaceAssets}),experiencesByWorkspaceAsset:Object(o.a)({prop:"experiencesByWorkspaceAsset",func:l.a.experiencesByWorkspaceAsset})}}}]);